on:
 schedule:
   - cron: 0 0 * * *
 pull_request:
   types: [opened, synchronize, reopened, closed]
name: Update packages
jobs:
 release:
   name: Build + compile
   runs-on: ubuntu-latest
   steps:
     - name: Build and compile
       uses: technote-space/create-pr-action@v2
       with:
         EXECUTE_COMMANDS: |
           sudo npm install;
           sudo npm i -g eslint prettier terser jsdoc rollup figlet-cli
           rm bijou_node.js
           rm bijou.js
           cat ./js/_copyright.js ./js/array.js ./js/color.js ./js/date.js ./js/element.js ./js/event.js ./js/function.js ./js/object.js ./js/math.js ./js/string.js ./js/utility.js ./js/_end.js > bijou.js
           rm -r docs/docs
           rm bijou-min.js
           jsdoc -c jsdoc.json
           sudo eslint --fix ./ || eskunt --fix ./ || ls
           prettier --write -- .
           rollup bijou.js --file bijou_node.js --format cjs
           terser --comments false --ecma 6 --ie8 --module --compress --drop-console --mangle -o docs/bijou.js -- bijou.js
           terser --comments false --ecma 6 --ie8 --module --compress --drop-console --mangle -o bijou-min.js -- bijou.js
         COMMIT_MESSAGE: 'Automated build'
         COMMIT_NAME: 'Automated build'
         COMMIT_EMAIL: 'explosionscratch@gmail.com'
         PR_BRANCH_NAME: 'build-${PR_ID}'
         PR_TITLE: 'Build and compile #${PR_ID}'
