"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.regex=exports.cookies=exports.imageToData=exports.loadScript=exports.requestInterval=exports.saveBlob=exports.preloadImage=exports.getHTML=exports.getJSON=exports.formatHTML=exports.playSection=exports.dispatch=exports.hub=exports.onScrollStop=exports.onOutsideClick=exports.replaceSelection=exports.fullScreen=exports.tilt=exports.observeMutations=exports.attributes=exports.inlineCSS=exports.disableRightClick=exports.elementSiblings=exports.compStyle=exports.createElement=exports.addStyles=exports.sortTableBy=exports.sortTable=exports.addEventListeners=exports.drag=exports.parseHTML=exports.removeComments=exports.querySelector=exports.textNodes=exports.replaceText=exports.serializeForm=exports.inPartialView=exports.inView=exports.context=exports.sortObj=exports.formToObject=exports.mapObjectValues=exports.mapObjectKeys=exports.merge=exports.listen=exports.clone=exports.runAsync=exports.debounce=exports.throttle=exports.isAsync=exports.curryFunction=exports.composeFunction=exports.memoize=exports.spread=exports.each=exports.uniqueArray=exports.averageBy=exports.unionArrays=exports.splice=exports.shuffleArray=exports.contains=exports.nFlatten=exports.flatten=exports.spliceArrayBuffer=exports.remove=exports.diff=exports.arrayDiff=exports.previousPage=exports.unescapeHTML=exports.escapeHTML=exports.replaceBetween=exports.capitalize=exports.syllables=exports.beautifyJS=exports.markdownToHTML=exports.sanitize=exports.urlQuery=exports.replaceMultiple=exports.byteSize=exports.editDistance=exports.hashString=exports.scrambleString=exports.camelCase=exports.syntaxHighlight=exports.unCamelCase=exports.widows=exports.speak=exports.removeTags=exports.mobileOrDesktop=exports.deburr=exports.formatMilliseconds=exports.dayName=exports.ease=exports.formatNumber=exports.seedRandom=exports.random=exports.primesTo=exports.uuid=exports.range=exports.animate=void 0,exports._$=exports["default"]=exports.lightOrDark=exports.lightenColor=exports.randomColor=exports.blendColors=exports.hexToRGB=exports.rgbToHex=exports.browser=exports.copy=exports.notify=exports.timeFunction=exports.arrayToCSV=exports.jsonToCsv=void 0;var _this=void 0,_arguments=arguments;function asyncGeneratorStep(e,t,r,n,o,a,i){try{var s=e[a](i),u=s.value}catch(l){return void r(l)}s.done?t(u):Promise.resolve(u).then(n,o)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){asyncGeneratorStep(a,n,o,i,s,"next",e)}function s(e){asyncGeneratorStep(a,n,o,i,s,"throw",e)}i(undefined)}))}}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,a=undefined;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(u){o=!0,a=u}finally{try{n||null==s["return"]||s["return"]()}finally{if(o)throw a}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}var isNode=!1;(isNode="undefined"==typeof window||"undefined"==typeof document)&&console.warn("There is no document element in Node, some functions of bijou.js will not work. If you need these functions consider using a package like jsDom to recreate the document element.");var node=function(){if(isNode)throw new Error("You are using Node.js, this function does not work in Node.js! Sorry!")},animate=function(e,t,r,n){var o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:20,a=arguments.length>5&&arguments[5]!==undefined?arguments[5]:function(e){return e},i=e,s=Date.now(),u=setInterval((function(){i=a((Date.now()-s)/r)*(t-e)+e,n(i,a((Date.now()-s)/r))}),o);setTimeout((function(){clearInterval(u),n(t,1)}),r)};exports.animate=animate;var range=function(e,t){return Array(t-e+1).fill().map((function(t,r){return e+r}))};exports.range=range;var uuid=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Math.random();function t(t){var r=(e.toString(16)+"000000000").substr(2,8);return t?"-"+r.substr(0,4)+"-"+r.substr(4,4):r}return"string"==typeof e&&(e=_temp.hashString(e)/1e16),t()+t(!0)+t(!0)+t()};exports.uuid=uuid;var primesTo=function(e){var t=Array.from({length:e-1}).map((function(e,t){return t+2})),r=Math.floor(Math.sqrt(e));return Array.from({length:r-1}).map((function(e,t){return t+2})).forEach((function(e){return t=t.filter((function(t){return t%e!=0||t===e}))})),t};exports.primesTo=primesTo;var random=function(e,t){var r=!(arguments.length>2&&arguments[2]!==undefined)||arguments[2],n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:Math.random();return r?Math.floor(n*(t-e+1)+e):Math.random()*(t-e+1)+e};exports.random=random;var seedRandom=function(e){var t=e+=1831565813;return t=Math.imul(t^t>>>15,1|t),(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/4294967296};exports.seedRandom=seedRandom;var formatNumber=function(e){return e.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,")};exports.formatNumber=formatNumber;var ease={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}};exports.ease=ease;var dayName=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Date,t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"en-US";return e.toLocaleDateString(t,{weekday:"long"})};exports.dayName=dayName;var formatMilliseconds=function(e){(e="string"==typeof e?+e:e)<0&&(e=-e);var t={century:Math.floor(e/11448e8),year:Math.floor(e/22896e6)%50,day:Math.floor(e/864e5)%365,hour:Math.floor(e/36e5)%24,minute:Math.floor(e/6e4)%60,second:Math.floor(e/1e3)%60,millisecond:Math.floor(e)%1e3};return Object.entries(t).filter((function(e){return 0!==e[1]})).map((function(e){var t=_slicedToArray(e,2),r=t[0],n=t[1];return"".concat(n," ").concat(r).concat(1!==n?"s":"")})).join(", ")};exports.formatMilliseconds=formatMilliseconds;var deburr=function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")};exports.deburr=deburr;var mobileOrDesktop=function(){return node(),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?"mobile":"desktop"};exports.mobileOrDesktop=mobileOrDesktop;var removeTags=function(e){return e.replace(/<[^>]*>/g,"")};exports.removeTags=removeTags;var speak=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"en",r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1,n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1,o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:1,a=arguments.length>5&&arguments[5]!==undefined?arguments[5]:1,i=new SpeechSynthesisUtterance,s=window.speechSynthesis.getVoices(),u=s.filter((function(e){return e["default"]}));i.voice=n?"number"==typeof n?s[n]:n:u,i.volume=r,i.rate=a,i.pitch=o,i.text=e,i.lang=t,speechSynthesis.speak(i)};exports.speak=speak;var widows=function(e){for(var t=e.split(" "),r="",n=0;n<=t.length-1;n++)r+=t[n],n==t.length-2?r+="&nbsp;":r+=" ";return r};exports.widows=widows;var unCamelCase=function(e){return e.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/\b([A-Z]+)([A-Z])([a-z])/,"$1 $2$3").replace(/^./,(function(e){return e.toUpperCase()}))};exports.unCamelCase=unCamelCase;var syntaxHighlight=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"html",r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};node();var n=document.createElement("DIV");n.innerText=e;var o=function(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},n=t||"html",o=document.getElementById(e)||e,a=o.innerHTML,i=r.tagColor||"mediumblue",s=r.tagNameColor||"brown",u=r.attributeColor||"red",l=r.attributeValueColor||"mediumblue",c=r.commentColor||"green",f=r.cssSelectorColor||"brown",p=r.cssPropertyColor||"red",d=r.cssPropertyValueColor||"mediumblue",g=r.cssLimiterColor||"black",m=r.cssImportantColor||"red",h=r.jsColor||"black",y=r.jsKeywordColor||"mediumblue",v=r.jsStringColor||"brown",b=r.jsNumberColor||"red",x=r.jsPropertyColor||"black";function w(e,t,r,n,o){for(var a,i,s="",u=[];e.search(t)>-1;)a=e.search(t),-1==(i=e.indexOf(r,a))&&(i=e.length),o?(u.push(n(e.substring(a,i+r.length))),e=e.substring(0,a)+o+e.substr(i+r.length)):(s+=e.substring(0,a),s+=n(e.substring(a,i+r.length)),e=e.substr(i+r.length));this.rest=s+e,this.arr=u}function A(e){var t,r,n,o,a,i=e,s="";for(i=(t=new w(i,"&lt;!--","--&gt;",C,"W3HTMLCOMMENTPOS")).rest;i.indexOf("&lt;")>-1;)o="",r=i.indexOf("&lt;"),"&LT;STYLE"==i.substr(r,9).toUpperCase()&&(o="css"),"&LT;SCRIPT"==i.substr(r,10).toUpperCase()&&(o="javascript"),-1==(n=i.indexOf("&gt;",r))&&(n=i.length),s+=i.substring(0,r),s+=S(i.substring(r,n+4)),i=i.substr(n+4),"css"==o&&(n=i.indexOf("&lt;/style&gt;"))>-1&&(s+=M(i.substring(0,n)),i=i.substr(n)),"javascript"==o&&(n=i.indexOf("&lt;/script&gt;"))>-1&&(s+=N(i.substring(0,n)),i=i.substr(n));for(i=s+i,a=0;a<t.arr.length;a++)i=i.replace("W3HTMLCOMMENTPOS",t.arr[a]);return i}function S(e){for(var t,r,n,o=e,a="";o.search(/(\s|<br>)/)>-1;)t=o.search(/(\s|<br>)/),-1==(r=o.indexOf("&gt;"))&&(r=o.length),a+=o.substring(0,t),a+=T(o.substring(t,r)),o=o.substr(r);return"&gt;"==(n="<span style=color:"+i+">&lt;</span>"+(n=a+o).substring(4)).substr(n.length-4,4)&&(n=n.substring(0,n.length-4)+"<span style=color:"+i+">&gt;</span>"),"<span style=color:"+s+">"+n+"</span>"}function T(e){for(var t,r,n,o,a,i=e,s="";i.indexOf("=")>-1;)r=-1,t=i.indexOf("="),n=i.indexOf("'",t),o=i.indexOf('"',t),(a=i.indexOf(" ",t+2))>-1&&(a<n||-1==n)&&(a<o||-1==o)?r=i.indexOf(" ",t):o>-1&&(o<n||-1==n)&&(o<a||-1==a)?r=i.indexOf('"',i.indexOf('"',t)+1):n>-1&&(n<o||-1==o)&&(n<a||-1==a)&&(r=i.indexOf("'",i.indexOf("'",t)+1)),(!r||-1==r||r<t)&&(r=i.length),s+=i.substring(0,t),s+=O(i.substring(t,r+1)),i=i.substr(r+1);return"<span style=color:"+u+">"+s+i+"</span>"}function O(e){return"<span style=color:"+l+">"+e+"</span>"}function C(e){return"<span style=color:"+c+">"+e+"</span>"}function M(e){var t,r,n,o,a,i,s,u=e,l="";for(u=(n=new w(u,/\/\*/,"*/",C,"W3CSSCOMMENTPOS")).rest;u.search("{")>-1;){for(t=u.search("{"),a=u.substr(t+1),s=1,i=0,o=0;o<a.length&&("{"==a.substr(o,1)&&(s++,i++),"}"==a.substr(o,1)&&s--,0!=s);o++);for(0!=s&&(i=0),r=t,o=0;o<=i;o++)r=u.indexOf("}",r+1);-1==r&&(r=u.length),l+=u.substring(0,t+1),l+=L(u.substring(t+1,r)),u=u.substr(r)}for(u=(u=(u=l+u).replace(/{/g,"<span style=color:"+g+">{</span>")).replace(/}/g,"<span style=color:"+g+">}</span>"),o=0;o<n.arr.length;o++)u=u.replace("W3CSSCOMMENTPOS",n.arr[o]);return"<span style=color:"+f+">"+u+"</span>"}function L(e){var t,r,n,o,a=e,i="";if(a.indexOf("{")>-1)return M(a);for(;a.search(":")>-1;){for(o=!0,n=t=a.search(":");1==o;)o=!1,r=a.indexOf(";",n),"&nbsp;"==a.substring(r-5,r+1)&&(o=!0,n=r+1);-1==r&&(r=a.length),i+=a.substring(0,t),i+=j(a.substring(t,r+1)),a=a.substr(r+1)}return"<span style=color:"+p+">"+i+a+"</span>"}function j(e){var t,r=e,n="";for(r="<span style=color:"+g+">:</span>"+r.substring(1);r.search(/!important/i)>-1;)t=r.search(/!important/i),n+=r.substring(0,t),n+=E(r.substring(t,t+10)),r=r.substr(t+10);return result=n+r,";"==result.substr(result.length-1,1)&&"&nbsp;"!=result.substr(result.length-6,6)&&"&lt;"!=result.substr(result.length-4,4)&&"&gt;"!=result.substr(result.length-4,4)&&"&amp;"!=result.substr(result.length-5,5)&&(result=result.substring(0,result.length-1)+"<span style=color:"+g+">;</span>"),"<span style=color:"+d+">"+result+"</span>"}function E(e){return"<span style=color:"+m+";font-weight:bold;>"+e+"</span>"}function N(e){var t,r,n,o,a,i,s,u,l,c,f=e,p="",d=[],g="";for(t=0;t<f.length;t++)"\\"==(r=f.substr(t,1))&&(d.push(f.substr(t,2)),r="W3JSESCAPE",t++),g+=r;for(f=g,1;n=$(f,"'","'",k),o=$(f,'"','"',k),a=$(f,/\/\*/,"*/",C),i=$(f,/\/\//,"<br>",C),u=R(f,H),s=D("js",f,F),c=I(f,_),-1!=Math.max(u[0],n[0],o[0],a[0],i[0],s[0],c[0])&&-1!=(l=P(u,n,o,a,i,s,c))[0];)l[0]>-1&&(p+=f.substring(0,l[0]),p+=l[2](f.substring(l[0],l[1])),f=f.substr(l[1]));for(f=p+f,t=0;t<d.length;t++)f=f.replace("W3JSESCAPE",d[t]);return"<span style=color:"+h+">"+f+"</span>"}function k(e){return"<span style=color:"+v+">"+e+"</span>"}function F(e){return"<span style=color:"+y+">"+e+"</span>"}function H(e){return"<span style=color:"+b+">"+e+"</span>"}function _(e){return"<span style=color:"+x+">"+e+"</span>"}function I(e,t){var r,n,o,a,i=[".","<"," ",";","(","+",")","[","]",",","&",":","{","}","/","-","*","|","%"];if((a=e.indexOf("."))>-1)for(r=e.substr(a+1),o=0;o<r.length;o++)for(cc=r[o],n=0;n<i.length;n++)if(cc.indexOf(i[n])>-1)return[a+1,o+a+1,t];return[-1,-1,t]}function P(){var e,t=[];for(e=0;e<arguments.length;e++)arguments[e][0]>-1&&(0==t.length||arguments[e][0]<t[0])&&(t=arguments[e]);return 0==t.length&&(t=arguments[e]),t}function D(e,t,r){var n,o,a,i,s=-1,u=-1;for("js"==e&&(n=["abstract","arguments","boolean","break","byte","case","catch","char","class","const","continue","debugger","default","delete","do","double","else","enum","eval","export","extends","false","final","finally","float","for","function","goto","if","implements","import","in","instanceof","int","interface","let","long","NaN","native","new","null","package","private","protected","public","return","short","static","super","switch","synchronized","this","throw","throws","transient","true","try","typeof","var","void","volatile","while","with","yield"]),o=0;o<n.length;o++)(a=t.indexOf(n[o]))>-1&&(i=/\W/g,t.substr(a+n[o].length,1).match(i)&&t.substr(a-1,1).match(i)&&a>-1&&(-1==s||a<s)&&(u=(s=a)+n[o].length));return[s,u,r]}function $(e,t,r,n){var o,a;return o=e.search(t),-1==(a=e.indexOf(r,o+r.length))&&(a=e.length),[o,a+r.length,n]}function R(e,t){var r,n,o,a,i,s=["<br>"," ",";","(","+",")","[","]",",","&",":","{","}","/","-","*","|","%","="],u=0;for(r=0;r<e.length;r++)for(n=0;n<s.length;n++)if((o=e.substr(r,s[n].length))==s[n]){if("-"==o&&("e"==e.substr(r-1,1)||"E"==e.substr(r-1,1)))continue;if(u<(a=r)&&(i=e.substring(u,a),!isNaN(i)))return[u,a,t];u=r+=s[n].length,r-=1;break}return[-1,-1,t]}o.style.fontFamily=r.fontFamily||"Consolas,'Courier New', monospace",n||(n="html"),"html"==n&&(a=A(a)),"css"==n&&(a=M(a)),"js"==n&&(a=N(a)),o.innerHTML=a};return o(n,t,r),n.innerHTML};exports.syntaxHighlight=syntaxHighlight;var camelCase=function(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,(function(e,t){return 0===t?e.toLowerCase():e.toUpperCase()})).replace(/\s+/g,"")};exports.camelCase=camelCase;var scrambleString=function(e){for(var t=e.split(""),r=t.length-1;r>0;r--){var n=Math.floor(Math.random()*(r+1)),o=t[r];t[r]=t[n],t[n]=o}return t.join("")};exports.scrambleString=scrambleString;var hashString=function(e){for(var t,r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0,n=3735928559^r,o=1103547991^r,a=0;a<e.length;a++)t=e.charCodeAt(a),n=Math.imul(n^t,2654435761),o=Math.imul(o^t,1597334677);return n=Math.imul(n^n>>>16,2246822507)^Math.imul(o^o>>>13,3266489909),4294967296*(2097151&(o=Math.imul(o^o>>>16,2246822507)^Math.imul(n^n>>>13,3266489909)))+(n>>>0)};exports.hashString=hashString;var editDistance=function(e,t){if(0==e.length)return t.length;if(0==t.length)return e.length;var r,n,o=[];for(r=0;r<=t.length;r++)o[r]=[r];for(n=0;n<=e.length;n++)o[0][n]=n;for(r=1;r<=t.length;r++)for(n=1;n<=e.length;n++)t.charAt(r-1)==e.charAt(n-1)?o[r][n]=o[r-1][n-1]:o[r][n]=Math.min(o[r-1][n-1]+1,Math.min(o[r][n-1]+1,o[r-1][n]+1));return o[t.length][e.length]};exports.editDistance=editDistance;var byteSize=function(e){return new Blob([e]).size};exports.byteSize=byteSize;var replaceMultiple=function(e,t){var r=new RegExp(Object.keys(t).join("|"),"gi");return e=e.replace(r,(function(e){return mapObj[e]}))};exports.replaceMultiple=replaceMultiple;var urlQuery=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var r=new RegExp("[?&]".concat(e,"(=([^&#]*)|&|#|$)")),n=r.exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null};exports.urlQuery=urlQuery;var sanitize=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:undefined,r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:undefined;return function(t,r){node();t=t||["I","P","B","BODY","HTML","DEL","INS","STRONG","SMALL","A","IMG","CITE","FIGCAPTION","ASIDE","ARTICLE","SUMMARY","DETAILS","NAV","TD","TH","TABLE","THEAD","TBODY","NAV","SPAN","BR","CODE","PRE","BLOCKQUOTE","EM","HR","H1","H2","H3","H4","H5","H6","DIV","MAIN","HEADER","FOOTER","SELECT","COL","AREA","ADDRESS","ABBR","BDI","BDO"];r=(r=r||[{attribute:"src",tags:"*",regex:/^(?:https|http|\/\/):/},{attribute:"href",tags:"*",regex:/^(?!javascript:).+/},{attribute:"width",tags:"*",regex:/^[0-9]+$/},{attribute:"height",tags:"*",regex:/^[0-9]+$/},{attribute:"id",tags:"*",regex:/^[a-zA-Z]+$/},{attribute:"class",tags:"*",regex:/^[a-zA-Z ]+$/},{attribute:"value",tags:["INPUT","TEXTAREA"],regex:/^.+$/},{attribute:"checked",tags:["INPUT"],regex:/^(?:true|false)+$/},{attribute:"placeholder",tags:["INPUT","TEXTAREA"],regex:/^.+$/},{attribute:"alt",tags:["IMG","AREA","INPUT"],regex:/^[0-9a-zA-Z]+$/},{attribute:"autofocus",tags:["INPUT"],regex:/^(?:true|false)+$/},{attribute:"for",tags:["LABEL","OUTPUT"],regex:/^[a-zA-Z0-9]+$/}]).map((function(e){if("string"==typeof e)return{attribute:e,tags:"*",regex:/^.+$/};var t=e;return e.hasOwnProperty("tags")||(t.tags="*"),e.hasOwnProperty("regex")||(t.regex=/^.+$/),t}));for(var n=(new DOMParser).parseFromString(e,"text/html"),o=n.querySelectorAll("*"),a=0;a<o.length;a++){for(var i=o[a],s=c(i),u=0;u<s.length;u++){l(i,s[u])||i.removeAttribute(s[u])}t.includes(i.tagName)||i.remove()}return n.documentElement.innerHTML;function l(e,t){return r.filter((function(r){return r.attribute===t&&("*"===r.tags||r.tags.includes(e.tagName))&&r.regex.test(e.getAttribute(t))})).length>0}function c(e){for(var t=0,r=e.attributes,n=r.length,o=[];t<n;t++)o.push(r[t].nodeName);return o}}(t,r)};exports.sanitize=sanitize;var markdownToHTML=function(e){var t=/\\([\\\|`*_{}\[\]()#+\-~])/g,r=/\n *&gt; *([^]*?)(?=(\n|$){2})/g,n=/\n( *)(?:[*\-+]|((\d+)|([a-z])|[A-Z])[.)]) +([^]*?)(?=(\n|$){2})/g,o=/(^|[^A-Za-z\d\\])(([*_])|(~)|(\^)|(--)|(\+\+)|`)(\2?)([^<]*?)\2\8(?!\2)(?=\W|_|$)/g,a=/^.*\n( *\|( *\:?-+\:?-+\:? *\|)* *\n|)/,i=/.*\n/g,s=/\||(.*?[^\\])\|/g;function u(t,r){e=e.replace(t,r)}function l(e,t){return"<"+e+">"+t+"</"+e+">"}function c(e){return e.replace(o,(function(e,t,r,n,o,a,i,s,u,f){return t+l(n?u?"strong":"em":o?u?"s":"sub":a?"sup":i?"small":s?"big":"code",c(f))}))}function f(e){return e.replace(t,"$1")}var p=[],d=0;return e="\n"+e+"\n",u(/</g,"&lt;"),u(/>/g,"&gt;"),u(/\t|\r|\uf8ff/g,"  "),e=function g(e){return e.replace(r,(function(e,t){return l("blockquote",g(c(t.replace(/^ *&gt; */gm,""))))}))}(e),u(/^([*\-=_] *){3,}$/gm,"<hr/>"),e=function m(e){return e.replace(n,(function(e,t,r,n,o,a){var i=l("li",c(a.split(RegExp("\n ?"+t+"(?:(?:\\d+|[a-zA-Z])[.)]|[*\\-+]) +","g")).map(m).join("</li><li>")));return"\n"+(r?'<ol start="'+(n?r+'">':parseInt(r,36)-9+'" style="list-style-type:'+(o?"low":"upp")+'er-alpha">')+i+"</ol>":l("ul",i))}))}(e),u(/<\/(ol|ul)>\n\n<\1>/g,""),u(/\n((```|~~~).*\n?([^]*?)\n?\2|(( {4}.*?\n)+))/g,(function(e,t,r,n,o){return p[--d]=l("pre",l("code",n||o.replace(/^ {4}/gm,""))),d+""})),u(/((!?)\[(.*?)\]\((.*?)( ".*")?\)|\\([\\`*_{}\[\]()#+\-.!~]))/g,(function(e,t,r,n,o,a,i){return p[--d]=i||(r?o?'<img src="'+o+'" alt="'+n+'"/>':t:'<a href="'+o+'">'+f(c(n))+"</a>"),d+""})),u(/\n(( *\|.*?\| *\n)+)/g,(function(e,t){var r=t.match(a)[1];return"\n"+l("table",t.replace(i,(function(e,t){return e==r?"":l("tr",e.replace(s,(function(e,n,o){return o?l(r&&!t?"th":"td",f(c(n||""))):""})))})))})),u(/(?=^|>|\n)([>\s]*?)(#{1,6}) (.*?)( #*)? *(?=\n|$)/g,(function(e,t,r,n){return t+l("h"+r.length,f(c(n)))})),u(/(?=^|>|\n)\s*\n+([^<]+?)\n+\s*(?=\n|<|$)/g,(function(e,t){return l("p",f(c(t)))})),u(/-\d+\uf8ff/g,(function(e){return p[parseInt(e)]})),e.trim()};exports.markdownToHTML=markdownToHTML;var beautifyJS=function(e,t){_$.loadScript("https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.13.5/beautify.min.js",(function(){t(js_beautify(e))}))};exports.beautifyJS=beautifyJS;var syllables=function(e){var t=0;(e=e.toLowerCase()).length>3&&"some"==e.substring(0,4)&&(e=e.replace("some",""),t++);var r=(e=(e=e.replace(/(?:[^laeiouy]|ed|[^laeiouy]e)$/,"")).replace(/^y/,"")).match(/[aeiouy]{1,2}/g);if(console.log(r),r)return r.length+t};exports.syllables=syllables;var capitalize=function(e){return String.fromCodePoint(e.codePointAt(0)).toUpperCase()+e.slice(e.codePointAt(0)>65535?2:1)};exports.capitalize=capitalize;var replaceBetween=function(e,t,r,n){return e.substring(0,t)+n+e.substring(r)};exports.replaceBetween=replaceBetween;var escapeHTML=function(e){return e.replace(/[&<>'"]/g,(function(e){return{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"}[e]||e}))};exports.escapeHTML=escapeHTML;var unescapeHTML=function(e){return e.replace(/&amp;|&lt;|&gt;|&#39;|&quot;/g,(function(e){return{"&amp;":"&","&lt;":"<","&gt;":">","&#39;":"'","&quot;":'"'}[e]||e}))};exports.unescapeHTML=unescapeHTML;var previousPage=function(){return node(),document.referrer||window.location.href};exports.previousPage=previousPage;var arrayDiff=function(e,t){for(var r=[],n=[],o=0;o<e.length;o++)r[e[o]]=!0;for(o=0;o<t.length;o++)r[t[o]]?delete r[t[o]]:r[t[o]]=!0;for(var a in r)n.push(a);return n};exports.arrayDiff=arrayDiff;var diff=function(e,t){for(var r=[],n=undefined,o=0;o<e.length;o++)e[o]!=t[o]&&n==undefined&&(n=[o]),n!=undefined&&e[o]==t[o]&&(n.push(o),r.push(n),n=undefined);return n!=undefined&&(n.push(o),r.push(n)),r};exports.diff=diff;var remove=function(e,t){return e.indexOf(t)>-1?e.splice(e.indexOf(t),1):e};exports.remove=remove;var spliceArrayBuffer=function(e,t,r,n){var o=(n=n||!1)?-1:1;if(n){var a=[r,t];t=a[0],r=a[1]}t=Math.floor(t),r=Math.floor(r)+o;for(var i=t,s=0;i!=r;i+=o)s=256*s+e[i];return s};exports.spliceArrayBuffer=spliceArrayBuffer;var flatten=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1,r=e;return _$.each(t,(function(){r=[].concat.apply([],e)})),r};exports.flatten=flatten;var nFlatten=function(e){return e.reduce((function(e,t){return e.concat(Array.isArray(t)?flatten(t):t)}),[])};exports.nFlatten=nFlatten;var contains=function(e,t){return e.includes(t)};exports.contains=contains;var shuffleArray=function(e){return e.sort((function(){return Math.random()-.5}))};exports.shuffleArray=shuffleArray;var splice=function(e,t,r){var n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;return"string"==typeof e?e.slice(0,t)+r+e.slice(t+Math.abs(n)):e.splice(t,n,r)};exports.splice=splice;var unionArrays=function(e,t){for(var r={},n=e.length-1;n>=0;--n)r[e[n]]=e[n];for(n=t.length-1;n>=0;--n)r[t[n]]=t[n];var o=[];for(var a in r)r.hasOwnProperty(a)&&o.push(r[a]);return o};exports.unionArrays=unionArrays;var averageBy=function(e,t){return e.map("function"==typeof t?t:function(e){return e[t]}).reduce((function(e,t){return e+t}),0)/e.length};exports.averageBy=averageBy;var uniqueArray=function(e){return _toConsumableArray(new Set(e))};exports.uniqueArray=uniqueArray;var each=function(e,t){e="number"==typeof e?_$.range(1,e):"string"==typeof e?e.split(""):e;for(var r=0;r<e.length;r++)t(e[r],r,e)};exports.each=each;var spread=function(e){return function(e){call_me.apply(_this,e)}};exports.spread=spread;var memoize=function(e){var t={};return function(){var r=JSON.stringify(Array.from(arguments)),n=Array.from(arguments);return t[r]||(t[r]=e.apply(void 0,_toConsumableArray(n))),t[r]}};exports.memoize=memoize;var composeFunction=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}};exports.composeFunction=composeFunction;var curryFunction=function(e){for(var t,r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:e.length,n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];return r<=o.length?e.apply(void 0,o):(t=curry).bind.apply(t,[null,e,r].concat(o))};exports.curryFunction=curryFunction;var isAsync=function(e){return"[object AsyncFunction]"===Object.prototype.toString.call(e)};exports.isAsync=isAsync;var throttle=function(e,t,r){var n,o,a,i=null,s=0;r||(r={});var u=function(){s=!1===r.leading?0:Date.now(),i=null,a=e.apply(n,o),i||(n=o=null)};return function(){var l=Date.now();s||!1!==r.leading||(s=l);var c=t-(l-s);return n=this,o=arguments,c<=0||c>t?(i&&(clearTimeout(i),i=null),s=l,a=e.apply(n,o),i||(n=o=null)):i||!1===r.trailing||(i=setTimeout(u,c)),a}};exports.throttle=throttle;var debounce=function(e,t){var r,n=arguments.length>2&&arguments[2]!==undefined&&arguments[2];return function(){var o=this,a=arguments,i=n&&!r;clearTimeout(r),r=setTimeout((function(){r=null,n||e.apply(o,a)}),t),i&&e.apply(o,a)}};exports.debounce=debounce;var runAsync=function(e){var t=new Worker(URL.createObjectURL(new Blob(["postMessage((".concat(e,")());")]),{type:"application/javascript; charset=utf-8"}));return new Promise((function(e,r){t.onmessage=function(r){var n=r.data;e(n),t.terminate()},t.onerror=function(e){r(e),t.terminate()}}))};exports.runAsync=runAsync;var clone=function(e){if(null==e||"object"!=_typeof(e))return e;var t=e.constructor();for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t};exports.clone=clone;var listen=function(e,t,r){return new Proxy(e,{set:function(e,r,n){return t(r,n),e[r]=n,e[r]},get:function(t,n,o){return r(n,o),e[n]}})};exports.listen=listen;var merge=function e(t,r){for(var n in r)try{r[n].constructor==Object?t[n]=e(t[n],r[n]):t[n]=r[n]}catch(o){t[n]=r[n]}return t};exports.merge=merge;var mapObjectKeys=function(e,t){return Array.isArray(e)?e.map((function(e){return _$.mapObjectKeys(e,t)})):"object"===_typeof(e)?Object.keys(e).reduce((function(r,n){var o=t(n),a=e[n];return r[o]=null!==a&&"object"===_typeof(a)?_$.mapObjectKeys(a,t):a,r}),{}):e};exports.mapObjectKeys=mapObjectKeys;var mapObjectValues=function(e,t){return Object.keys(e).map((function(r,n){e[r]=t(e[r],n)})),e};exports.mapObjectValues=mapObjectValues;var formToObject=function(e){return node(),Array.from(new FormData(e)).reduce((function(e,t){var r=_slicedToArray(t,2),n=r[0],o=r[1];return _objectSpread(_objectSpread({},e),{},_defineProperty({},n,o))}))};exports.formToObject=formToObject;var sortObj=function(e){return Object.keys(e).sort().reduce((function(t,r){return t[r]=e[r],t}),{})};exports.sortObj=sortObj;var context=function(){var e=document.createElement("UL");e.id="contextMenu",document.body.appendChild(e);var t=document.createElement("STYLE");t.innerHTML="#contextMenu {\n       pointer-events: none;\n       padding: 0;\n       opacity: 0;\n       transition: opacity .3s ease;\n       position: fixed;\n       padding-top: 3px;\n       padding-bottom: 3px;\n       max-height: 200px;\n       overflow-y: scroll;\n       overflow-x: hidden;\n       list-style: none;\n       z-index: 10000;\n       background: white;\n       color: #333;\n       font-family: sans-serif;\n       border-radius: 5px;\n       box-shadow: 2px 2px 5px #0004;\n       width: fit-content;\n       min-width: 50px;\n       max-width: 150px;\n     }\n     #contextMenu li {\n       transition: background-color .3s ease;\n       display: block;\n       min-width: 150px;\n       margin: 0;\n       padding: 10px;\n     }\n     #contextMenu li:hover {\n       background-color: #ddd;\n       cursor: pointer;\n     }\n     ",document.body.appendChild(t);for(var r=document.querySelectorAll("[contextmenu]"),n=0;n<r.length;n++)window.addEventListener("contextmenu",(function(t){var r;e.style.pointerEvents="auto";try{r=document.querySelectorAll("#".concat(t.target.closest("[contextmenu]").getAttribute("contextmenu")," menuitem")),t.preventDefault()}catch(t){return!0}e.innerHTML="";for(var n=0;n<r.length;n++){var o=r[n];e.innerHTML+='<li onclick="'.concat(o.getAttribute("onclick"),'">').concat(o.getAttribute("label"),"</li>")}console.log(e.innerHTML),e.style.top="".concat(t.clientY,"px"),e.style.left="".concat(t.clientX,"px"),e.style.opacity=1}));var o=0;requestInterval((function(){if((o+=100)>3e3)return e.style.opacity=0,e.style.pointerEvents="none",void(o=0)}),100),addEventListeners(e,["mousemove","click","scroll"],(function(){o=0})),onOutsideClick(e,(function(){e.style.opacity=0,e.style.pointerEvents="none"}))};exports.context=context;var inView=function(e){node();for(var t=e.offsetTop,r=e.offsetLeft,n=e.offsetWidth,o=e.offsetHeight;e.offsetParent;)t+=(e=e.offsetParent).offsetTop,r+=e.offsetLeft;return t>=window.pageYOffset&&r>=window.pageXOffset&&t+o<=window.pageYOffset+window.innerHeight&&r+n<=window.pageXOffset+window.innerWidth};exports.inView=inView;var inPartialView=function(e){node();for(var t=e.offsetTop,r=e.offsetLeft,n=e.offsetWidth,o=e.offsetHeight;e.offsetParent;)t+=(e=e.offsetParent).offsetTop,r+=e.offsetLeft;return t<window.pageYOffset+window.innerHeight&&r<window.pageXOffset+window.innerWidth&&t+o>window.pageYOffset&&r+n>window.pageXOffset};exports.inPartialView=inPartialView;var serializeForm=function(e){return node(),Array.from(new FormData(e),(function(e){return e.map(encodeURIComponent).join("=")})).join("&")};exports.serializeForm=serializeForm;var replaceText=function(e,t){node(),_$.each(_$.textNodes(e),(function(e){e.textContent=t(e.textContent)}))};exports.replaceText=replaceText;var textNodes=function(e){return _toConsumableArray(e.childNodes).filter((function(e){return e.nodeType===Node.TEXT_NODE&&""!==e.nodeValue.trim()}))};exports.textNodes=textNodes;var querySelector=function(e){node();var t="";return function r(e){if(e.getAttribute("id")&&1===document.querySelectorAll("#".concat(e.getAttribute("id"))).length)return t=(t=(t=t.replace(/^/," #"+e.getAttribute("id"))).replace(/\s/,"")).replace(/\s/g," > ");if(document.body===e)return t=(t=(t=t.replace(/^/," body")).replace(/\s/,"")).replace(/\s/g," > ");if(e.getAttribute("class")){var n=".";n=(n=(n+=e.getAttribute("class")).replace(/\s/g,".")).replace(/^/g," ");var o="",a=e.parentNode.children;if(a.length<2)return;for(var i=[],s=0;s<a.length;s++)e.getAttribute("class")==a[s].getAttribute("class")&&i.push(a[s]);if(i.length>1)for(var u=0;u<i.length;u++)if(e===i[u]){o=":nth-of-type("+ ++u+")";break}t=t.replace(/^/,n+o)}else{var l=e.nodeName;l=l.toLowerCase();var c="";if((a=e.parentNode.children).length>2){var f=[];for(s=0;s<a.length;s++)e.nodeName==a[s].nodeName&&f.push(a[s]);if(f.length>1)for(u=0;u<f.length;u++)if(e===f[u]){c=":nth-of-type("+ ++u+")";break}}t=t.replace(/^/," "+l+c)}if(!e.parentNode)return t=(t=t.replace(/\s/g," > ")).replace(/\s/,"");r(e.parentNode)}(e),t};exports.querySelector=querySelector;var removeComments=function(e){if("object"===_typeof(e)){if(isNode)throw new Error("No document element! (You are probably using Node.js)");return e.innerHTML=e.innerHTML.replace(/<!--[\s\S]*?(?:-->)?<!---+>?|<!(?![dD][oO][cC][tT][yY][pP][eE]|\[CDATA\[)[^>]*>?|<[?][^>]*>?/g,""),e}if("string"==typeof e)return e.replace(/<!--[\s\S]*?(?:-->)?<!---+>?|<!(?![dD][oO][cC][tT][yY][pP][eE]|\[CDATA\[)[^>]*>?|<[?][^>]*>?/g,"")};exports.removeComments=removeComments;var parseHTML=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"text/html",r=new DOMParser;return r.parseFromString(e,t)};exports.parseHTML=parseHTML;var drag=function(e){var t,r,n,o;function a(e){this.style.left=t+e.clientX-n+"px",this.style.top=r+e.clientY-o+"px"}return node(),e.addEventListener("mousedown",(function(i){var s=window.getComputedStyle(e);e.style.top=s.getPropertyValue("top"),e.style.left=s.getPropertyValue("left"),e.style.right=s.getPropertyValue("right"),e.style.bottom=s.getPropertyValue("bottom"),this.style.position="absolute",t=this.offsetLeft,r=this.offsetTop,n=i.clientX,o=i.clientY,this.addEventListener("mousemove",a,!1),window.addEventListener("mouseup",(function(){e.removeEventListener("mousemove",a,!1)}),!1)}),!1),e};exports.drag=drag;var addEventListeners=function(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{},n=arguments.length>3&&arguments[3]!==undefined&&arguments[3],o=arguments.length>4&&arguments[4]!==undefined&&arguments[4];if(!(t instanceof Array))throw'addMultipleListeners: please supply an array of eventstrings (like ["click","mouseover"])';for(var a=function(e){r.apply(this,o&&o instanceof Array?o:[])},i=0;i<t.length;i+=1)e.addEventListener(t[i],a,n)};exports.addEventListeners=addEventListeners;var sortTable=function(e){var t=function(e,t){return e.children[t].innerText||e.children[t].textContent};Array.prototype.slice.call(e.querySelectorAll("th")).forEach((function(e){e.addEventListener("click",(function(){for(var r,n,o=e.parentNode;"TABLE"!=o.tagName.toUpperCase();)o=o.parentNode;Array.prototype.slice.call(o.querySelectorAll("tr:nth-child(n+2)")).sort((r=Array.prototype.slice.call(e.parentNode.children).indexOf(e),n=this.asc=!this.asc,function(e,o){return a=t(n?e:o,r),i=t(n?o:e,r),""===a||""===i||isNaN(a)||isNaN(i)?a.toString().localeCompare(i):a-i;var a,i})).forEach((function(e){o.appendChild(e)}))}))}))};exports.sortTable=sortTable;var sortTableBy=function(e,t){for(var r,n,o=function(e,t){return e.children[t].innerText||e.children[t].textContent},a=e.parentNode;"TABLE"!=a.tagName.toUpperCase();)a=a.parentNode;Array.prototype.slice.call(a.querySelectorAll("tr:nth-child(n+2)")).sort((r=Array.prototype.slice.call(e.parentNode.children).indexOf(e),n=t,function(e,t){return a=o(n?e:t,r),i=o(n?t:e,r),""===a||""===i||isNaN(a)||isNaN(i)?a.toString().localeCompare(i):a-i;var a,i})).forEach((function(e){a.appendChild(e)}))};exports.sortTableBy=sortTableBy;var addStyles=function(e,t){return node(),Object.assign(e.style,t)};exports.addStyles=addStyles;var createElement=function(e){node();var t=document.createElement("div");return t.innerHTML=e,t.firstElementChild};exports.createElement=createElement;var compStyle=function(e,t){return node(),window.getComputedStyle(e).getPropertyValue(t)};exports.compStyle=compStyle;var elementSiblings=function(e){return _toConsumableArray(e.parentElement.children).filter((function(t){return t!=e}))};exports.elementSiblings=elementSiblings;var disableRightClick=function(e){return node(),e.oncontextmenu=!1};exports.disableRightClick=disableRightClick;var inlineCSS=function(e){var t,r=getComputedStyle(e,null);for(t=0;t<r.length;t++){var n=r[t]+"";e.style[n]=r[n]}};exports.inlineCSS=inlineCSS;var attributes=function(e){node();for(var t,r=[],n=0,o=e.attributes,a=o.length;n<a;n++)t=o[n],r.push({name:t.nodeName,value:t.nodeValue});return r};exports.attributes=attributes;var observeMutations=function(e,t,r){var n=new MutationObserver((function(e){return e.forEach((function(e){return t(e)}))}));return n.observe(e,Object.assign({childList:!0,attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},r)),n};exports.observeMutations=observeMutations;var tilt=function(e,t,r){var n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:500,o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:30;e.style.transform="perspective(".concat(n,"px) scale(1.1) rotateX(").concat(-1*o*((r-e.clientHeight/2)/e.clientHeight),"deg) rotateY(").concat(o*((t-e.clientWidth/2)/e.clientWidth),"deg)")};exports.tilt=tilt;var fullScreen=function(e){return e.requestFullScreen||e.mozRequestFullScreen||e.webkitRequestFullScreen()||new Error("Fullscreen failed")};exports.fullScreen=fullScreen;var replaceSelection=function(e){var t,r;if(window.getSelection){if((t=window.getSelection()).rangeCount){(r=t.getRangeAt(0)).deleteContents();var n=document.createElement("span");n.insertAdjacentHTML("beforeend",e),r.insertNode(n)}}else document.selection&&document.selection.createRange&&(console.warn("You are using IE < 9, you are evil. Falling back to text not HTML."),(r=document.selection.createRange()).text=e.replace(/<[^>]*>/g,""))};exports.replaceSelection=replaceSelection;var onOutsideClick=function(e,t){return node(),document.addEventListener("click",(function(r){e.contains(r.target)||t()})),t};exports.onOutsideClick=onOutsideClick;var onScrollStop=function(e){var t;node(),window.addEventListener("scroll",(function(r){clearTimeout(t),t=setTimeout((function(){e(r)}),150)}),!1)};exports.onScrollStop=onScrollStop;var hub=function(){return{hub:Object.create(null),emit:function(e,t){(this.hub[e]||[]).forEach((function(e){return e(t)}))},on:function(e,t){this.hub[e]||(this.hub[e]=[]),this.hub[e].push(t)},off:function(e,t){var r=(this.hub[e]||[]).findIndex((function(e){return e===t}));r>-1&&this.hub[e].splice(r,1),0===this.hub[e].length&&delete this.hub[e]}}};exports.hub=hub;var dispatch=function(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:window,n=new Event(e);for(var o in t)n[o]=t[o];r.dispatchEvent(n)};exports.dispatch=dispatch;var playSection=function(e,t,r){var n=e.cloneNode(!0);n.currentTime=t,n.play(),n.int=setInterval((function(){n.currentTime>r&&(n.pause(),clearInterval(n.int))}),10)};exports.playSection=playSection;var formatHTML=function(e){var t="",r="";return e.split(/>\s*</).forEach((function(e){e.match(/^\/\w/)&&(r=r.substring("\t".length)),t+=r+"<"+e+">\r\n",e.match(/^<?\w[^>]*[^\/]$/)&&!e.startsWith("input")&&(r+="\t")})),t.substring(1,t.length-3)};exports.formatHTML=formatHTML;var getJSON=function(e,t){node(),fetch(e).then((function(e){return e.json()})).then((function(e){return t(e)}))["catch"]((function(e){throw new Error(e.stack)}))};exports.getJSON=getJSON;var getHTML=function(e,t){node(),fetch(e).then((function(e){return e.text()})).then((function(e){return t(_$.parseHTML(e))}))["catch"]((function(e){throw new Error(e.stack)}))};exports.getHTML=getHTML;var preloadImage=function(){for(var e=0;e<_arguments.length;e++)images[e]=new Image,images[e].src=preload.arguments[e]};exports.preloadImage=preloadImage;var saveBlob=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"output.txt";node();var r=document.createElement("a");document.body.appendChild(r),r.style="display: none";var n=window.URL.createObjectURL(e);r.href=n,r.download=t,r.click(),window.URL.revokeObjectURL(n)};exports.saveBlob=saveBlob;var requestInterval=function(e,t){node();var r=window.requestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},n=(new Date).getTime(),o={};return o.value=r((function a(){o.value=r(a),(new Date).getTime()-n>=t&&(e.call(),n=(new Date).getTime())})),o};exports.requestInterval=requestInterval;var loadScript=function(e,t){node();var r=document.createElement("script");r.type="text/javascript",r.readyState?r.onreadystatechange=function(){"loaded"!==r.readyState&&"complete"!==r.readyState||(r.onreadystatechange=null,t())}:r.onload=function(){t()},r.src=e,document.getElementsByTagName("head")[0].appendChild(r)};exports.loadScript=loadScript;var imageToData=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function t(e,r){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e).then((function(e){return e.blob()}));case 2:return n=t.sent,t.next=5,new Promise((function(e){var t=new FileReader;t.onload=function(){return e(t.result)},t.readAsDataURL(n)}));case 5:o=t.sent,r(o);case 7:case"end":return t.stop()}}),t)})));return function(t,r){return e.apply(this,arguments)}}();exports.imageToData=imageToData;var cookies={setItem:function(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1e3;node();var n="";if(r){var o=new Date;o.setTime(o.getTime()+24*r*60*60*1e3),n="; expires="+o.toUTCString()}document.cookie=e+"="+(t||"")+n+"; path=/"},getItem:function(e){node();for(var t=e+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){for(var o=r[n];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return null},removeItem:function(e){node(),document.cookie=e+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"}};exports.cookies=cookies;var regex={phone:/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/,name:/^(?:[a-zA-Z]{2,}\s[a-zA-Z]{1,}'?-?[a-zA-Z]{2,}\s?(?:[a-zA-Z]{1,})?)/,email:/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/,link:/(([\w]+:)?\/\/)?(([\d\w]|%[a-fA-f\d]{2,2})+(:([\d\w]|%[a-fA-f\d]{2,2})+)?@)?([\d\w][-\d\w]{0,253}[\d\w]\.)+[\w]{2,63}(:[\d]+)?(\/([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)*(\?(&?([-+_~.\d\w]|%[a-fA-f\d]{2,2})=?)*)?(#([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)?/,strongPassword:/(?=(.*[0-9]))(?=.*[\!@#$%^&*()\\[\]{}\-_+=~`|:;"'<>,./?])(?=.*[a-z])(?=(.*[A-Z]))(?=(.*)).{8,}/,moderatePassword:/(?=(.*[0-9]))((?=.*[A-Za-z0-9])(?=.*[A-Z])(?=.*[a-z]))^.{8,}$/,ipv4:/^ (([0 - 9] | [1 - 9][0 - 9] | 1[0 - 9]{ 2}| 2[0 - 4][0 - 9] | 25[0 - 5]) \.) { 3 } ([0 - 9] | [1 - 9][0 - 9] | 1[0 - 9]{ 2 }| 2[0 - 4][0 - 9] | 25[0 - 5]) $ /,ipv6:/(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))/,ip:/ ((^\s*((([0 - 9] | [1 - 9][0 - 9] | 1[0 - 9]{ 2} | 2[0 - 4][0 - 9] | 25[0 - 5]) \.) { 3}([0 - 9] | [1 - 9][0 - 9] | 1[0 - 9]{ 2 }| 2[0 - 4][0 - 9] | 25[0 - 5])) \s * $)| (^\s * ((([0 - 9A - Fa - f]{ 1, 4 }:) { 7 } ([0 - 9A - Fa - f]{ 1, 4 }|:))| (([0 - 9A - Fa - f]{ 1, 4 }:) { 6 } (: [0 - 9A - Fa - f]{ 1, 4 }| ((25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d) (\.(25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d)) { 3 })|:))| (([0 - 9A - Fa - f]{ 1, 4 }:) { 5 } (((: [0 - 9A - Fa - f]{ 1, 4 }) { 1, 2 })|: ((25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d) (\.(25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d)) { 3 })|:))| (([0 - 9A - Fa - f]{ 1, 4 }:) { 4 } (((: [0 - 9A - Fa - f]{ 1, 4 }) { 1, 3 })| ((: [0 - 9A - Fa - f]{ 1, 4 })?: ((25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d) (\.(25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d)) { 3 }))|:))| (([0 - 9A - Fa - f]{ 1, 4 }:) { 3 } (((: [0 - 9A - Fa - f]{ 1, 4 }) { 1, 4 })| ((: [0 - 9A - Fa - f]{ 1, 4 }) { 0, 2 }: ((25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d) (\.(25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d)) { 3 }))|:))| (([0 - 9A - Fa - f]{ 1, 4 }:) { 2 } (((: [0 - 9A - Fa - f]{ 1, 4 }) { 1, 5 })| ((: [0 - 9A - Fa - f]{ 1, 4 }) { 0, 3 }: ((25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d) (\.(25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d)) { 3 }))|:))| (([0 - 9A - Fa - f]{ 1, 4 }:) { 1 } (((: [0 - 9A - Fa - f]{ 1, 4 }) { 1, 6 })| ((: [0 - 9A - Fa - f]{ 1, 4 }) { 0, 4 }: ((25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d) (\.(25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d)) { 3 }))|:))| (: (((: [0 - 9A - Fa - f]{ 1, 4 }) { 1, 7 })| ((: [0 - 9A - Fa - f]{ 1, 4 }) { 0, 5 }: ((25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d) (\.(25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d)) { 3 }))|:))) (%.+) ?\s * $)) /,socialSecurity:/^((?!219-09-9999|078-05-1120)(?!666|000|9\d{2})\d{3}-(?!00)\d{2}-(?!0{4})\d{4})|((?!219 09 9999|078 05 1120)(?!666|000|9\d{2})\d{3} (?!00)\d{2} (?!0{4})\d{4})|((?!219099999|078051120)(?!666|000|9\d{2})\d{3}(?!00)\d{2}(?!0{4})\d{4})$/,hex:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,zipCode:/(^\d{5}(-\d{4})?$)|(^[ABCEGHJKLMNPRSTVXY]{1}\d{1}[A-Z]{1} *\d{1}[A-Z]{1}\d{1}$)/,simplePhone:/^\+?[\d\s]{3,}$/,visaCredit:/^4[0–9]{12}(?:[0–9]{3})?$/,expressCredit:/^3[47][0–9]{13}$/,mastercardCredit:/^(?:5[1–5][0–9]{2}|222[1–9]|22[3–9][0–9]|2[3–6][0–9]{2}|27[01][0–9]|2720)[0–9]{12}$/,discoverCredit:/^6(?:011|5[0–9]{2})[0–9]{12}$/};exports.regex=regex;var jsonToCsv=function(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:",";return[t.join(r)].concat(_toConsumableArray(e.map((function(e){return t.reduce((function(t,n){return"".concat(t).concat(t.length?r:"",'"').concat(e[n]?e[n]:"",'"')}),"")})))).join("\n")};exports.jsonToCsv=jsonToCsv;var arrayToCSV=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:",";return e.map((function(e){return e.map((function(e){return isNaN(e)?'"'.concat(e.replace(/"/g,'""'),'"'):e})).join(t)})).join("\n")};exports.arrayToCSV=arrayToCSV;var timeFunction=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"_$ function timer";console.time(t),e(),console.timeEnd(t)};exports.timeFunction=timeFunction;var notify=function(e,t,r){node(),window.Notification?"granted"===Notification.permission||Notification.requestPermission().then((function(e){"granted"===e||console.log("User blocked notifications.")}))["catch"]((function(e){console.error(e)})):console.log("Browser does not support notifications.")};exports.notify=notify;var copy=function(e){node();var t=document.createElement("textarea");t.value=e,t.setAttribute("readonly",""),t.style.position="absolute",t.style.left="-9999px",document.body.appendChild(t);var r=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);return t.select(),document.execCommand("copy"),document.body.removeChild(t),r&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(r)),e};exports.copy=copy;var browser=function(){node();var e=!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,t="undefined"!=typeof InstallTrigger,r=/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||"undefined"!=typeof safari&&window.safari.pushNotification).toString(),n=!!document.documentMode,o=!n&&!!window.StyleMedia,a=!(!window.chrome||!window.chrome.webstore&&!window.chrome.runtime),i=a&&-1!=navigator.userAgent.indexOf("Edg"),s=(a||e)&&!!window.CSS;return e?"Opera":t?"Firefox":r?"Safari":o?"Edge":n?"Internet Explorer":a?"Chrome":i?"Edge Chromium":s?"Blink":void 0};exports.browser=browser;var rgbToHex=function(e){var t=e.indexOf(",")>-1?",":" ",r=(+(e=e.substr(4).split(")")[0].split(t))[0]).toString(16),n=(+e[1]).toString(16),o=(+e[2]).toString(16);return 1==r.length&&(r="0"+r),1==n.length&&(n="0"+n),1==o.length&&(o="0"+o),"#"+r+n+o};exports.rgbToHex=rgbToHex;var hexToRGB=function(e){if((e.length-1!=6&&e.length-1!=8&&e.length-1!=4&&e.length-1!=3||!e.startsWith("#"))&&(6!==e.length&&8!==e.length&&4!==e.length&&3!==e.length||e.startsWith("#")))throw new Error("Invalid hex");var t=!1,r=e.slice(e.startsWith("#")?1:0);return 3===r.length?r=_toConsumableArray(r).map((function(e){return e+e})).join(""):8===r.length&&(t=!0),"rgb"+(t?"a":"")+"("+((r=parseInt(r,16))>>>(t?24:16))+", "+((r&(t?16711680:65280))>>>(t?16:8))+", "+((r&(t?65280:255))>>>(t?8:0))+(t?", ".concat(255&r):"")+")"};exports.hexToRGB=hexToRGB;var blendColors=function(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:50,n=function(e,t,r){for(var n=e.toString(16),o=t.toString(16),a=r.toString(16);n.length<2;)n="0".concat(n);for(;o.length<2;)o="0".concat(o);for(;a.length<2;)a="0".concat(a);return"#".concat(n).concat(o).concat(a)},o=function(e,t,r){return e+r/100*(t-e)},a=parseInt("".concat(e[1]).concat(e[2]),16),i=parseInt("".concat(e[3]).concat(e[4]),16),s=parseInt("".concat(e[5]).concat(e[6]),16),u=parseInt("".concat(t[1]).concat(t[2]),16),l=parseInt("".concat(t[3]).concat(t[4]),16),c=parseInt("".concat(t[5]).concat(t[6]),16),f=Math.round(o(a,u,r)),p=Math.round(o(i,l,r)),d=Math.round(o(s,c,r));return n(f,p,d)};exports.blendColors=blendColors;var randomColor=function(){return"#".concat(Math.floor(16777215*Math.random()).toString(16))};exports.randomColor=randomColor;var lightenColor=function(e,t){var r=!1;"#"==e[0]&&(e=e.slice(1),r=!0);var n=parseInt(e,16),o=(n>>16)+t;o>255?o=255:o<0&&(o=0);var a=(n>>8&255)+t;a>255?a=255:a<0&&(a=0);var i=(255&n)+t;return i>255?i=255:i<0&&(i=0),(r?"#":"")+(i|a<<8|o<<16).toString(16)};exports.lightenColor=lightenColor;var lightOrDark=function(e){var t,r,n,o;return e.match(/^rgb/)?(t=(e=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/))[1],r=e[2],n=e[3]):(t=(e=+("0x"+e.slice(1).replace(e.length<5&&/./g,"$&$&")))>>16,r=e>>8&255,n=255&e),(o=Math.sqrt(t*t*.299+r*r*.587+n*n*.114))>127.5?{lightOrDark:"light",hsp:o}:{lightOrDark:"dark",hsp:o}};exports.lightOrDark=lightOrDark;var _temp={addEventListeners:addEventListeners,addStyles:addStyles,animate:animate,arrayDiff:arrayDiff,arrayToCSV:arrayToCSV,attributes:attributes,averageBy:averageBy,beautifyJS:beautifyJS,blendColors:blendColors,browser:browser,byteSize:byteSize,camelCase:camelCase,capitalize:capitalize,clone:clone,compStyle:compStyle,composeFunction:composeFunction,contains:contains,context:context,cookies:cookies,copy:copy,createElement:createElement,curryFunction:curryFunction,dayName:dayName,diff:diff,disableRightClick:disableRightClick,dispatch:dispatch,drag:drag,each:each,ease:ease,editDistance:editDistance,elementSiblings:elementSiblings,escapeHTML:escapeHTML,flatten:flatten,formToObject:formToObject,formatHTML:formatHTML,formatMilliseconds:formatMilliseconds,formatNumber:formatNumber,fullScreen:fullScreen,getHTML:getHTML,getJSON:getJSON,hashString:hashString,hexToRGB:hexToRGB,hub:hub,imageToData:imageToData,inPartialView:inPartialView,inView:inView,inlineCSS:inlineCSS,isAsync:isAsync,jsonToCsv:jsonToCsv,lightOrDark:lightOrDark,lightenColor:lightenColor,listen:listen,loadScript:loadScript,mapObjectKeys:mapObjectKeys,mapObjectValues:mapObjectValues,markdownToHTML:markdownToHTML,memoize:memoize,merge:merge,mobileOrDesktop:mobileOrDesktop,nFlatten:nFlatten,notify:notify,observeMutations:observeMutations,onOutsideClick:onOutsideClick,onScrollStop:onScrollStop,parseHTML:parseHTML,preloadImage:preloadImage,previousPage:previousPage,primesTo:primesTo,querySelector:querySelector,random:random,randomColor:randomColor,range:range,regex:regex,remove:remove,removeComments:removeComments,removeTags:removeTags,replaceBetween:replaceBetween,replaceMultiple:replaceMultiple,replaceSelection:replaceSelection,replaceText:replaceText,requestInterval:requestInterval,rgbToHex:rgbToHex,runAsync:runAsync,sanitize:sanitize,saveBlob:saveBlob,scrambleString:scrambleString,seedRandom:seedRandom,serializeForm:serializeForm,shuffleArray:shuffleArray,sortObj:sortObj,sortTable:sortTable,sortTableBy:sortTableBy,speak:speak,splice:splice,spliceArrayBuffer:spliceArrayBuffer,syllables:syllables,syntaxHighlight:syntaxHighlight,textNodes:textNodes,throttle:throttle,tilt:tilt,timeFunction:timeFunction,unCamelCase:unCamelCase,unescapeHTML:unescapeHTML,unionArrays:unionArrays,uniqueArray:uniqueArray,urlQuery:urlQuery,uuid:uuid,widows:widows},_default=_temp;exports["default"]=_default,window._$=_temp;var _$=_temp;if(exports._$=_$,isNode)try{module.exports=_temp}catch(err){console.error(err)}