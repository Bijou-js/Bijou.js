let e=!1;e="undefined"==typeof window||"undefined"==typeof document,e&&console.warn();const t=()=>{if(e)throw new Error("You are using Node.js, this function does not work in Node.js! Sorry!")},n=(e,t,n=!0)=>{if(!n)return;let r="Missing parameter";throw e&&(r+=" of type "+e),t&&(r=`Parameter ${t} ${e?`(${e})`:""} required.`),new Error(r)};export const count=(e=n("array","array"))=>e.reduce(((e,t)=>(e[t]=(e[t]||0)+1,e)),{});export const arrayDiff=(e=n("array","array 1"),t=n("array","array 2"))=>{const r=[],o=[];for(var a=0;a<e.length;a++)r[e[a]]=!0;for(a=0;a<t.length;a++)r[t[a]]?delete r[t[a]]:r[t[a]]=!0;for(const e in r)o.push(e);return o};export const diff=function(e=n("string","Text 1"),t=n("string","Text 2")){const r=[];let o;for(var a=0;a<e.length;a++)e[a]!=t[a]&&o==undefined&&(o=[a]),o!=undefined&&e[a]==t[a]&&(o.push(a),r.push(o),o=undefined);return o!=undefined&&(o.push(a),r.push(o)),r};export const remove=(e=n("array","array"),t=n(undefined,"item"))=>"string"==typeof e?e.replace(t,""):"object"==typeof e?(e[`${t}`]=undefined,e=_$.clone(e,(e=>e!==undefined))):(e.indexOf(t)>-1&&e.splice(e.indexOf(t),1),e);export const spliceArrayBuffer=(e=n("ArrayBuffer"),t=n("number"),r=n("number"),o=!1)=>{const a=o?-1:1;o&&([t,r]=[r,t]),t=Math.floor(t),r=Math.floor(r)+a;for(var i=t,s=0;i!=r;i+=a)s=256*s+e[i];return s};export const flatten=(e=n("array","array"),t=1)=>{let r=e;return _$.each(t,(()=>{r=[].concat.apply([],e)})),r};export const nFlatten=(e=n("array","array"))=>e.reduce((function(e,t){return e.concat(Array.isArray(t)?flatten(t):t)}),[]);export const contains=(e=n("array"),t=n("string"))=>e.includes(t);export const shuffleArray=(e=n("array"))=>e.sort((()=>Math.random()-.5));export const splice=(e=n("array","array"),t=n("number","index"),r=0,o)=>{const a=Array.from(arguments);return a.shift(),"string"==typeof e?e.split("").splice(...a).join(""):e.splice(...a)};export const unionArrays=(e=n("array","array1"),t=n("array","array2"))=>{const r={};for(var o=e.length-1;o>=0;--o)r[e[o]]=e[o];for(o=t.length-1;o>=0;--o)r[t[o]]=t[o];const a=[];for(const e in r)r.hasOwnProperty(e)&&a.push(r[e]);return a};export const averageBy=(e=n("array","array"),t=n("function","callback"))=>e.map("function"==typeof t?t:e=>e[t]).reduce(((e,t)=>e+t),0)/e.length;export const uniqueArray=(e=n("array","array"))=>[...new Set(e)];export const each=(e=n("Array|Number|String","array"),t=n("function","callback"))=>{e="number"==typeof e?_$.range(1,e):"string"==typeof e?e.split(""):e;for(let n=0;n<e.length;n++)t(e[n],n,e)};export const rgbToHex=(e=n("string","RGB color"))=>{const t=e.indexOf(",")>-1?",":" ";let r=(+(e=e.substr(4).split(")")[0].split(t))[0]).toString(16),o=(+e[1]).toString(16),a=(+e[2]).toString(16);return 1===r.length&&(r="0"+r),1===o.length&&(o="0"+o),1===a.length&&(a="0"+a),"#"+r+o+a};export const hexToRGB=(e=n("string","hex color"))=>{if((e.length-1!=6&&e.length-1!=8&&e.length-1!=4&&e.length-1!=3||!e.startsWith("#"))&&(6!==e.length&&8!==e.length&&4!==e.length&&3!==e.length||e.startsWith("#")))throw new Error("Invalid hex");let t=!1,r=e.slice(e.startsWith("#")?1:0);return 3===r.length?r=[...r].map((e=>e+e)).join(""):8===r.length&&(t=!0),r=parseInt(r,16),"rgb"+(t?"a":"")+"("+(r>>>(t?24:16))+", "+((r&(t?16711680:65280))>>>(t?16:8))+", "+((r&(t?65280:255))>>>(t?8:0))+(t?", "+(255&r):"")+")"};export const blendColors=(e=n("string","color 1"),t=n("string","color 2"),r=50)=>{const o=(e,t,n)=>e+n/100*(t-e),a=parseInt(`${e[1]}${e[2]}`,16),i=parseInt(`${e[3]}${e[4]}`,16),s=parseInt(`${e[5]}${e[6]}`,16),c=parseInt(`${t[1]}${t[2]}`,16),l=parseInt(`${t[3]}${t[4]}`,16),u=parseInt(`${t[5]}${t[6]}`,16);return((e,t,n)=>{let r=e.toString(16),o=t.toString(16),a=n.toString(16);for(;r.length<2;)r=`0${r}`;for(;o.length<2;)o=`0${o}`;for(;a.length<2;)a=`0${a}`;return`#${r}${o}${a}`})(Math.round(o(a,c,r)),Math.round(o(i,l,r)),Math.round(o(s,u,r)))};export const randomColor=()=>`#${Math.floor(16777215*Math.random()).toString(16)}`;export const lightenColor=(e=n("string","hex color"),t=n("number","amount"))=>{let r=!1;"#"==e[0]&&(e=e.slice(1),r=!0);const o=parseInt(e,16);let a=(o>>16)+t;a>255?a=255:a<0&&(a=0);let i=(o>>8&255)+t;i>255?i=255:i<0&&(i=0);let s=(255&o)+t;return s>255?s=255:s<0&&(s=0),(r?"#":"")+(s|i<<8|a<<16).toString(16)};export const lightOrDark=(e=n("string","hex or RGB color"))=>{let t,r,o,a;return e.match(/^rgb/)?(t=(e=e.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/))[1],r=e[2],o=e[3]):(t=(e=+("0x"+e.slice(1).replace(e.length<5&&/./g,"$&$&")))>>16,r=e>>8&255,o=255&e),a=Math.sqrt(t*t*.299+r*r*.587+o*o*.114),a>127.5?{lightOrDark:"light",hsp:a}:{lightOrDark:"dark",hsp:a}};export const dayName=(e=new Date,t="en-US")=>e.toLocaleDateString(t,{weekday:"long"});export const formatMilliseconds=(e=n("number","milliseconds"))=>{(e="string"==typeof e?+e:e)<0&&(e=-e);const t={century:Math.floor(e/11448e8),year:Math.floor(e/22896e6)%50,day:Math.floor(e/864e5)%365,hour:Math.floor(e/36e5)%24,minute:Math.floor(e/6e4)%60,second:Math.floor(e/1e3)%60,millisecond:Math.floor(e)%1e3};return Object.entries(t).filter((e=>0!==e[1])).map((([e,t])=>`${t} ${e}${1!==t?"s":""}`)).join(", ")};export const addMinutesToDate=(e=n("date","date or date string"),t=n("number","minutes"))=>{const r=new Date(e);return r.setTime(r.getTime()+6e4*t),r.toISOString().split(".")[0].replace("T"," ")};export const isDateValid=(...e)=>(n("any","date arguments",![...e].length),!Number.isNaN(new Date(...e).valueOf()));export const addDaysToDate=(e=n("date","date or date string"),t=n("number","days"))=>{const r=new Date(e);return r.setDate(r.getDate()+t),r.toISOString().split("T")[0]};export const ripple=(e=n("element","element"))=>{t();const r=3*(+e.getAttribute("data-time")||1e3),o=e.getAttribute("data-color")||"currentColor",a=e.getAttribute("data-opacity")||".3",i=e.getAttribute("data-event")||"click";e.style.overflow="hidden",e.style.position="relative",e.addEventListener(i,(t=>{const n=document.createElement("DIV");n.style.position="absolute",n.style.background=`${o}`,n.style.borderRadius="50%";const i=e.getBoundingClientRect();let s;s=i.width>i.height?3*i.width:3*i.height,n.style.pointerEvents="none",n.style.height=`${s}px`,n.style.width=`${s}px`,n.style.transform="translate(-50%, -50%) scale(0)",n.style.top=t.pageY-(i.top+window.scrollY)+"px",n.style.left=t.pageX-(i.left+window.scrollX)+"px",n.style.transition=`opacity ${r}ms ease, transform ${r}ms ease`,n.removeAttribute("data-ripple"),n.style.opacity=a,e.appendChild(n),setTimeout((()=>{n.style.transform="translate(-50%, -50%) scale(1)",n.style.opacity="0",setTimeout((()=>{n.remove()}),r)}),1)}))};export function elementReady(e=n("string","query selector"),t=document.documentElement){return new Promise(((n,r)=>{const o=t.querySelector(e);o&&n(o),new MutationObserver(((r,o)=>{Array.from(t.querySelectorAll(e)).forEach((e=>{n(e),o.disconnect()}))})).observe(t,{childList:!0,subtree:!0})}))}export const elementContains=(e=n("HTMLElement","parent"),t=n("HTMLElement","child"))=>e!==t&&e.contains(t);export const parents=(e=n("element"))=>[...function*(e){for(;e=e.parentNode;)yield e}(e)];export const getImages=(e=document.documentElement,t=!1)=>{const n=[...e.getElementsByTagName("img")].map((e=>e.getAttribute("src")));return t?n:[...new Set(n)]};export const renderElement=({type:e,props:t={}}=n("object","options"),r=n("HTMLElement","container"))=>{const o=!e,a=o?document.createTextNode(""):document.createElement(e),i=e=>e.startsWith("on");Object.keys(t).forEach((e=>{(e=>!i(e)&&"children"!==e)(e)&&(a[e]=t[e]),!o&&i(e)&&a.addEventListener(e.toLowerCase().slice(2),t[e])})),!o&&t.children&&t.children.length&&t.children.forEach((e=>renderElement(e,a))),r.appendChild(a)};export function create(e="div",...t){i();const n=e.match(/^[a-z0-9]+/i),r=e.match(/#([a-z]+[a-z0-9-]*)/gi),o=e.match(/\.([a-z]+[a-z0-9-]*)/gi),a=e.match(/\[([a-z][a-z-]+)(=['|"]?([^\]]*)['|"]?)?\]/gi),i=n?n[0]:"div";if(r&&r.length>1)throw new Error("only 1 ID is allowed");const s=document.createElement(i);if(r&&(s.id=r[0].replace("#","")),o){const e=o.join(" ").replace(/\./g,"");s.setAttribute("class",e)}return a&&a.forEach((e=>{e=e.slice(0,-1).slice(1);let[t,n]=e.split("=");n&&(n=n.replace(/^['"](.*)['"]$/,"$1")),s.setAttribute(t,n||"")})),t.forEach((e=>{"string"==typeof e||"number"==typeof e?s.appendChild(document.createTextNode(e)):e.nodeType===document.ELEMENT_NODE&&s.appendChild(e)})),s}export const context=()=>{const e=document.createElement("UL");e.id="contextMenu",document.body.appendChild(e);const t=document.createElement("STYLE");t.innerHTML="#contextMenu {\n       pointer-events: none;\n       padding: 0;\n       opacity: 0;\n       transition: opacity .3s ease;\n       position: fixed;\n       padding-top: 3px;\n       padding-bottom: 3px;\n       max-height: 200px;\n       overflow-y: scroll;\n       overflow-x: hidden;\n       list-style: none;\n       z-index: 10000;\n       background: white;\n       color: #333;\n       font-family: sans-serif;\n       border-radius: 5px;\n       box-shadow: 2px 2px 5px #0004;\n       width: fit-content;\n       min-width: 50px;\n       max-width: 150px;\n     }\n     #contextMenu li {\n       transition: background-color .3s ease;\n       display: block;\n       min-width: 150px;\n       margin: 0;\n       padding: 10px;\n     }\n     #contextMenu li:hover {\n       background-color: #ddd;\n       cursor: pointer;\n     }\n     ",document.body.appendChild(t);const n=document.querySelectorAll("[contextmenu]");for(let t=0;t<n.length;t++)window.addEventListener("contextmenu",(t=>{let n;e.style.pointerEvents="auto";try{n=document.querySelectorAll(`#${t.target.closest("[contextmenu]").getAttribute("contextmenu")} menuitem`),t.preventDefault()}catch(t){return!0}e.innerHTML="";for(let t=0;t<n.length;t++){const r=n[t],o=document.createElement("li");o.setAttribute("onclick",r.getAttribute("onclick")),o.addEventListener("click",(()=>{e.style.opacity=0,e.style.pointerEvents="none"})),o.textContent=r.getAttribute("label"),e.innerHTML+=o.outerHTML}console.log(e.innerHTML),e.style.top=`${t.clientY}px`,e.style.left=`${t.clientX}px`,e.style.opacity=1}));let r=0;setInterval((()=>{r+=100,r>3e3&&(e.style.opacity=0,e.style.pointerEvents="none",r=0)}),100),_$.addEventListeners(e,["mousemove","click","scroll"],(()=>{r=0})),_$.onOutsideClick(e,(()=>{e.style.opacity=0,e.style.pointerEvents="none"}))};export const inView=(e=n("HTMLElement","element"))=>{t();let r=e.offsetTop,o=e.offsetLeft;const a=e.offsetWidth,i=e.offsetHeight;for(;e.offsetParent;)r+=(e=e.offsetParent).offsetTop,o+=e.offsetLeft;return r>=window.pageYOffset&&o>=window.pageXOffset&&r+i<=window.pageYOffset+window.innerHeight&&o+a<=window.pageXOffset+window.innerWidth};export const inPartialView=(e=n("HTMLElement","element"))=>{t();let r=e.offsetTop,o=e.offsetLeft;const a=e.offsetWidth,i=e.offsetHeight;for(;e.offsetParent;)r+=(e=e.offsetParent).offsetTop,o+=e.offsetLeft;return r<window.pageYOffset+window.innerHeight&&o<window.pageXOffset+window.innerWidth&&r+i>window.pageYOffset&&o+a>window.pageXOffset};export const replaceText=(e=n("HTMLElement","element"),r=n("function","callback"))=>{t(),_$.each(_$.textNodes(e),(e=>{e.textContent=r(e.textContent)}))};export const textNodes=(e=n("HTMLElement","element"))=>[...e.childNodes].filter((e=>e.nodeType===Node.TEXT_NODE&&""!==e.nodeValue.trim()));export const querySelector=(e=n("HTMLElement","element"))=>{t();let r="";return function o(e){if(e.getAttribute("id")&&1===document.querySelectorAll(`#${e.getAttribute("id")}`).length)return r=r.replace(/^/," #"+e.getAttribute("id")),r=r.replace(/\s/,""),r=r.replace(/\s/g," > "),r;if(document.body===e)return r=r.replace(/^/," body"),r=r.replace(/\s/,""),r=r.replace(/\s/g," > "),r;if(e.getAttribute("class")){let o=".";o+=e.getAttribute("class"),o=o.replace(/\s/g,"."),o=o.replace(/^/g," ");let i="";var t=e.parentNode.children;if(t.length<2)return;const s=[];for(var n=0;n<t.length;n++)e.getAttribute("class")==t[n].getAttribute("class")&&s.push(t[n]);if(s.length>1)for(var a=0;a<s.length;a++)if(e===s[a]){i=":nth-of-type("+ ++a+")";break}r=r.replace(/^/,o+i)}else{let o=e.nodeName;o=o.toLowerCase();let i="";if((t=e.parentNode.children).length>2){const r=[];for(n=0;n<t.length;n++)e.nodeName==t[n].nodeName&&r.push(t[n]);if(r.length>1)for(a=0;a<r.length;a++)if(e===r[a]){i=":nth-of-type("+ ++a+")";break}}r=r.replace(/^/," "+o+i)}if(!e.parentNode)return r=r.replace(/\s/g," > "),r=r.replace(/\s/,""),r;o(e.parentNode)}(e),r};export const removeComments=(e=n("HTMLElement","HTMLElement"))=>{const t="string"==typeof e;e=t?_$.parseHTML(e):e.cloneNode(!0);for(const t of[...e.querySelectorAll("*"),e])for(const e of t.childNodes)e instanceof Comment&&t.removeChild(e);return t?e.outerHTML:e};export const parseHTML=(e=n("string","html string"),r="text/html")=>{t();return(new DOMParser).parseFromString(e,r)};export const drag=(e=n("String|Element","drag handle"),r=n("String|Element","drag target"))=>{t();let o=null,a=0,i=0;function s(e){e.preventDefault(),e.stopPropagation(),o=r,o.style.position="absolute";const t=o.getBoundingClientRect();"mousedown"==e.type?(a=e.clientX-t.left,i=e.clientY-t.top,window.addEventListener("mousemove",c,!0)):"touchstart"==e.type&&(a=e.targetTouches[0].clientX-t.left,i=e.targetTouches[0].clientY-t.top,window.addEventListener("touchmove",c,!0))}function c(e){e.preventDefault(),e.stopPropagation(),null==o||("mousemove"==e.type?(o.style.left=e.clientX-a+"px",o.style.top=e.clientY-i+"px"):"touchmove"==e.type&&(o.style.left=e.targetTouches[0].clientX-a+"px",o.style.top=e.targetTouches[0].clientY-i+"px"))}e="string"==typeof e?document.querySelector(e):e,r="string"==typeof r?document.querySelector(r):r,e.addEventListener("mousedown",s,!0),e.addEventListener("touchstart",s,!0),document.onmouseup=function(e){o&&(o=null,window.removeEventListener("mousemove",c,!0),window.removeEventListener("touchmove",c,!0))}};export const addEventListeners=(e=n("HTMLElement","element"),t=n("array","events"),r={},o=!1,a=!1)=>{if(!(t instanceof Array))throw'addMultipleListeners: please supply an array of eventstrings (like ["click","mouseover"])';const i=function(e){r.apply(this,a&&a instanceof Array?a:[])};for(let n=0;n<t.length;n+=1)e.addEventListener(t[n],i,o)};export const sortTable=(e=n("HTMLTableElement","table element"),t=undefined)=>{const r=function(e,n){return t?t(e.children[n],e,n):e.children[n].innerText||e.children[n].textContent};Array.prototype.slice.call(e.querySelectorAll("th")).forEach((function(e){e.addEventListener("click",(function(){let t=e.parentNode;for(;"TABLE"!=t.tagName.toUpperCase();)t=t.parentNode;var n,o;Array.prototype.slice.call(t.querySelectorAll("tr:nth-child(n+2)")).sort((n=Array.prototype.slice.call(e.parentNode.children).indexOf(e),o=this.asc=!this.asc,function(e,t){return a=r(o?e:t,n),i=r(o?t:e,n),""===a||""===i||isNaN(a)||isNaN(i)?a.toString().localeCompare(i):a-i;var a,i})).forEach((function(e){t.appendChild(e)}))}))}))};export const sortTableBy=(e=n("HTMLTableElement","<th> element"),t=!0)=>{const r=function(e,t){return e.children[t].innerText||e.children[t].textContent};let o=e.parentNode;for(;"TABLE"!=o.tagName.toUpperCase();)o=o.parentNode;var a,i;Array.prototype.slice.call(o.querySelectorAll("tr:nth-child(n+2)")).sort((a=Array.prototype.slice.call(e.parentNode.children).indexOf(e),i=t,function(e,t){return n=r(i?e:t,a),o=r(i?t:e,a),""===n||""===o||isNaN(n)||isNaN(o)?n.toString().localeCompare(o):n-o;var n,o})).forEach((function(e){o.appendChild(e)}))};export const addStyles=(e=n("HTMLElement","element"),r=n("Object","styles"))=>(t(),Object.assign(e.style,r));export const createElement=(e=n("String","HTML element string"))=>{t();const r=document.createElement("div");return r.innerHTML=e,r.firstElementChild};export const compStyle=(e=n("HTMLElement","element"),r=n("String","CSS property string"))=>{t();return window.getComputedStyle(e).getPropertyValue(r)};export const elementSiblings=(e=n("HTMLElement","element"))=>[...e.parentElement.children].filter((t=>t!=e));export const disableRightClick=(e=n("HTMLElement","element"))=>(t(),e.oncontextmenu=!1);export const inlineCSS=(e=n("HTMLElement","element"))=>{const t=getComputedStyle(e,null);let r;for(r=0;r<t.length;r++){const n=t[r]+"";e.style[n]=t[n]}};export const attributes=(e=n("HTMLElement","element"))=>{t();const r=[];for(var o,a=0,i=e.attributes,s=i.length;a<s;a++)o=i[a],r.push({name:o.nodeName,value:o.nodeValue});return r};export const observeMutations=(e=n("HTMLElement","element"),t=n("function","callback"),r={})=>{const o=new MutationObserver((e=>e.forEach((e=>t(e)))));return o.observe(e,Object.assign({childList:!0,attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},r)),o};export const tilt=(e=n("HTMLElement","element"),t=n("number","x"),r=n("number","y"),o=500,a=30)=>{e.style.transform=`perspective(${o}px) scale(1.1) rotateX(${-1*a*((r-e.clientHeight/2)/e.clientHeight)}deg) rotateY(${a*((t-e.clientWidth/2)/e.clientWidth)}deg)`};export const fullScreen=(e=n("HTMLElement","element"))=>e.requestFullScreen||e.mozRequestFullScreen||e.webkitRequestFullScreen()||new Error("Fullscreen failed");export const replaceSelection=(e=n("string","replacement text"))=>{let t,r;if(window.getSelection){if(t=window.getSelection(),t.rangeCount){r=t.getRangeAt(0),r.deleteContents();const n=document.createElement("span");n.insertAdjacentHTML("beforeend",e),r.insertNode(n)}}else document.selection&&document.selection.createRange&&(console.warn("You are using IE < 9, you are evil. Falling back to text not HTML."),r=document.selection.createRange(),r.text=e.replace(/<[^>]*>/g,""))};export const waitUntil=async(e=n("function","condition"),t=Infinity)=>new Promise((async(n,r)=>{const o=Date.now();for(;!e();){if(Date.now()-o>=t)return void r(e());await new Promise((e=>requestAnimationFrame(e)))}return n(e()),e()}));export const onOutsideClick=(e=n("HTMLElement","element"),r=n("function","callback"))=>(t(),new Promise(((t,n)=>{document.addEventListener("click",(n=>{e.contains(n.target)||(r(),t())}))})));export const onScrollStop=(e=window,r=n("function","callback"),o=150)=>{let a;return t(),new Promise(((t,n)=>{e.addEventListener("scroll",(e=>{clearTimeout(a),a=setTimeout((()=>{r(e),t(e)}),o)}),!1)}))};export const hub=()=>({hub:Object.create(null),emit(e,t){(this.hub[e]||[]).forEach((e=>e(t)))},on(e,t){this.hub[e]||(this.hub[e]=[]),this.hub[e].push(t)},off(e,t){const n=(this.hub[e]||[]).findIndex((e=>e===t));n>-1&&this.hub[e].splice(n,1),0===this.hub[e].length&&delete this.hub[e]}});export const dispatch=(e=n("object","event properties"),t=n("string","type"),r=window)=>{const o=new Event(t);for(const t in e)o[t]=e[t];r.dispatchEvent(o)};export const juxt=(...e)=>(...t)=>[...e].map((e=>[...t].map(e)));export const sleep=(e=n("number","milliseconds"))=>new Promise((t=>setTimeout(t,e)));export const limitArgs=(e=n("function","function"),t=n("number","arguments"))=>(...n)=>e(...n.slice(0,t));export const fastestFunction=(e,t=1e3)=>{const n=e.map((e=>{const n=performance.now();for(let n=0;n<t;n++)e();return performance.now()-n}));return n.indexOf(Math.min(...n))};export const spread=(e=n("function"))=>t=>{e.apply(globalThis,t)};export const memoize=(e=n("function"))=>{const t={};return function(){const n=JSON.stringify(Array.from(arguments)),r=Array.from(arguments);return t[n]||(t[n]=e(...r)),t[n]}};export const composeFunction=(...e)=>t=>(n("functions","function list",![...e].length),e.reduceRight(((e,t)=>t(e)),t));export const curryFunction=(e=n("function"),t=e.length,...r)=>t<=r.length?e(...r):_$.curryFunction.bind(null,e,t,...r);export const isAsync=(e=n("function"))=>"[object AsyncFunction]"===Object.prototype.toString.call(e);export const timeFunction=(e=n("function"),t="_$ function timer")=>{const r=performance.now();return console.time(t),e(),console.timeEnd(t),{"function":e,time:performance.now()-r}};export const throttle=(e=n("function"),t=n("number","wait"),r={})=>{let o,a,i,s=null,c=0;r||(r={});const l=function(){c=!1===r.leading?0:Date.now(),s=null,i=e.apply(o,a),s||(o=a=null)};return function(){const n=Date.now();c||!1!==r.leading||(c=n);const u=t-(n-c);return o=this,a=arguments,u<=0||u>t?(s&&(clearTimeout(s),s=null),c=n,i=e.apply(o,a),s||(o=a=null)):s||!1===r.trailing||(s=setTimeout(l,u)),i}};export const debounce=(e=n("function"),t=n("number","wait"),r=!1)=>{let o;return function(){const n=this,a=arguments,i=r&&!o;clearTimeout(o),o=setTimeout((function(){o=null,r||e.apply(n,a)}),t),i&&e.apply(n,a)}};export const runAsync=(e=n("function"))=>{const t=new Worker(URL.createObjectURL(new Blob([`postMessage((${e})());`]),{type:"application/javascript; charset=utf-8"}));return new Promise(((e,n)=>{t.onmessage=({data:n})=>{e(n),t.terminate()},t.onerror=e=>{n(e),t.terminate()}}))};export const flattenObj=(e=n("object","object"))=>e!==Object(e)||Array.isArray(e)?{}:Object.assign({},...function t(e){return[].concat.apply([],Object.entries(e).map((([e,n])=>n&&"object"==typeof n&&Object.keys(n).some((e=>n.hasOwnProperty(e)))&&!Array.isArray(n)?t(n):{[e]:n})))}(e));export const clone=(e=n("object","Object to clone"),t,r)=>{let o=Object.create;if("function"!=typeof o&&(o=function(e){function t(){}return t.prototype=e,new t}),null===e||"object"!=typeof e)return e;if("function"==typeof e.clone)return e.clone(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);if(e.nodeType&&"function"==typeof e.cloneNode)return e.cloneNode(!0);t===undefined&&(t=[],r=[]);const a=t.length;for(i=0;i<a;i++)if(e===t[i])return r[i];if("[object Array]"==Object.prototype.toString.call(e)){const n=e.slice();t.push(e),r.push(n);for(var i=n.length;i--;)n[i]=clone(n[i],t,r);return n}let s=Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__;s||(s=e.constructor.prototype);const c=o(s);t.push(e),r.push(c);for(const n in e)c[n]=clone(e[n],t,r);return c};export const listen=(e=n("object"),t=(()=>null),r=(()=>null))=>new Proxy(e,{set:function(e,n,r){return t(n,r),e[n]=r,e[n]},get:function(t,n,o){return r(n,o),e[n]}});export const merge=function a(e=n("object","object 1"),t=n("object","object 2")){for(const n in t)if(!(n in Object.prototype))try{t[n].constructor==Object?e[n]=a(e[n],t[n]):e[n]=t[n]}catch(r){e[n]=t[n]}return e};export const mapObjectKeys=(e=n("object"),t=n("function","callback"))=>Array.isArray(e)?e.map((e=>_$.mapObjectKeys(e,t))):"object"==typeof e?Object.keys(e).reduce(((n,r)=>{const o=t(r),a=e[r];return n[o]=null!==a&&"object"==typeof a?_$.mapObjectKeys(a,t):a,n}),{}):e;export const mapObjectValues=(e=n("object","object"),t=n("function","callback"))=>(Object.keys(e).map((function(n,r){e[n]=t(e[n],r)})),e);export const formToObject=(e=n("HTMLFormElement","the form"))=>(t(),Array.from(new FormData(e)).reduce(((e,[t,n])=>({...e,[t]:n}))));export const sortObj=(e=n("object","object"))=>Object.keys(e).sort().reduce((function(t,n){return t[n]=e[n],t}),{});export const gcd=(...e)=>{return e[0]instanceof Array?t(e[0]):t([...e]);function t(e){const n=Math.min(...e);if(n==Math.max(...e))return n;for(const t in e)e[t]>n&&(e[t]=e[t]-n);return t(e)}};export const equals=(e=n("any","a"),t=n("any","b"))=>{if(e===t)return!0;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(!e||!t||"object"!=typeof e&&"object"!=typeof t)return e===t;if(e.prototype!==t.prototype)return!1;const r=Object.keys(e);return r.length===Object.keys(t).length&&r.every((n=>equals(e[n],t[n])))};export const isPrime=(e=n("number","number"))=>{const t=Math.floor(Math.sqrt(e));for(let n=2;n<=t;n++)if(e%n==0)return!1;return e>=2};export const factorial=(e=n("number"))=>e<0?(()=>{throw new TypeError("Negative numbers are not allowed!")})():e<=1?1:e*factorial(e-1);export const luhnCheck=(e=n("String|Number"))=>{const t=(e+"").split("").reverse().map((e=>parseInt(e))),r=t.splice(0,1)[0];let o=t.reduce(((e,t,n)=>n%2!=0?e+t:e+2*t%9||9),0);return o+=r,o%10==0};export const animate=(e=n("Number","start"),t=n("Number","end"),r=n("number","duration"),o=n("function","callback"),a=20,i=(e=>e))=>{let s=e;const c=Date.now(),l=setInterval((()=>{s=i((Date.now()-c)/r)*(t-e)+e,o(s,i((Date.now()-c)/r))}),a);setTimeout((()=>{clearInterval(l),o(t,1)}),r)};export const range=(e=n("number","start"),t=0)=>(e>t&&([e,t]=[t,e]),Array(t-e+1).fill().map(((t,n)=>e+n)));export const uuid=(e=Math.random())=>{function t(t){const n=(e.toString(16)+"000000000").substr(2,8);return t?"-"+n.substr(0,4)+"-"+n.substr(4,4):n}return"string"==typeof e&&(e=r.hashString(e)/1e16),t()+t(!0)+t(!0)+t()};export const primesTo=(e=n("number","number"))=>{let t=Array.from({length:e-1}).map(((e,t)=>t+2));const r=Math.floor(Math.sqrt(e));return Array.from({length:r-1}).map(((e,t)=>t+2)).forEach((e=>t=t.filter((t=>t%e!=0||t===e)))),t};export const random=(e=n("number","min"),t=0,r=!0,o=Math.random())=>(e>t&&([e,t]=[t,e]),r?Math.floor(o*(t-e+1)+e):Math.random()*(t-e+1)+e);export const seedRandom=(e=n("number","seed"))=>{let t=e+=1831565813;return t=Math.imul(t^t>>>15,1|t),t^=t+Math.imul(t^t>>>7,61|t),((t^t>>>14)>>>0)/4294967296};export const formatNumber=(e=n("number","number"))=>e.toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,");export const ease={linear:(e=n("number","percentage"))=>e,easeInSine:(e=n("number","percentage"))=>1-Math.cos(e*Math.PI/2),easeOutSine:(e=n("number","percentage"))=>Math.sin(e*Math.PI/2),easeInOutSine:(e=n("number","percentage"))=>-(Math.cos(Math.PI*e)-1)/2,easeInQuad:(e=n("number","percentage"))=>e*e,easeOutQuad:(e=n("number","percentage"))=>e*(2-e),easeInOutQuad:(e=n("number","percentage"))=>e<.5?2*e*e:(4-2*e)*e-1,easeInCubic:(e=n("number","percentage"))=>e*e*e,easeOutCubic:(e=n("number","percentage"))=>--e*e*e+1,easeInOutCubic:(e=n("number","percentage"))=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:(e=n("number","percentage"))=>e*e*e*e,easeOutQuart:(e=n("number","percentage"))=>1- --e*e*e*e,easeInOutQuart:(e=n("number","percentage"))=>e<.5?8*e*e*e*e:1-8*--e*e*e*e,easeInQuint:(e=n("number","percentage"))=>e*e*e*e*e,easeOutQuint:(e=n("number","percentage"))=>1+--e*e*e*e*e,easeInOutQuint:(e=n("number","percentage"))=>e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e,easeInExpo:(e=n("number","percentage"))=>0===e?0:Math.pow(2,10*e-10),easeOutExpo:(e=n("number","percentage"))=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:(e=n("number","percentage"))=>0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2,easeInCirc:(e=n("number","percentage"))=>1-Math.sqrt(1-e*e),easeOutCirc:(e=n("number","percentage"))=>Math.sqrt(1-(e-1)*(e-1)),easeInOutCirc:(e=n("number","percentage"))=>e<.5?1-Math.sqrt(1-4*e*e)/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2,easeInBack:(e=n("number","percentage"))=>2.70158*e*e*e-1.70158*e*e,easeOutBack:(e=n("number","percentage"))=>1+2.70158*Math.pow(e-1,3)+c1*Math.pow(e-1,2),easeInOutBack:e=>{const t=2.5949095;return e<.5?4*e*e*(2*(t+1)*e-t)/2:(Math.pow(2*e-2,2)*((t+1)*(2*e-2)+t)+2)/2},easeInElastic:(e=n("number","percentage"))=>0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*(2*Math.PI)/3),easeOutElastic:(e=n("number","percentage"))=>0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*(2*Math.PI)/3)+1,easeInOutElastic:(e=n("number","percentage"))=>0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*(2*Math.PI)/4.5)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*(2*Math.PI)/4.5)/2+1,easeInBounce:(e=n("number","percentage"))=>1-ease.easeOutBounce(1-e),easeOutBounce:(e=n("number","percentage"))=>{const t=7.5625,r=2.75;return e<1/r?t*e*e:e<2/r?t*(e-=1.5/r)*e+.75:e<2.5/r?t*(e-=2.25/r)*e+.9375:t*(e-=2.625/r)*e+.984375},easeInOutBounce:(e=n("number","percentage"))=>e<.5?(1-ease.easeOutBounce(1-2*e))/2:(1+ease.easeOutBounce(2*e-1))/2};export const jaroDistance=function(e,t){if(!e||!t)return 0;e=e.trim().toUpperCase(),t=t.trim().toUpperCase();const n=e.length,r=t.length,o=[],a=[],i=Math.floor(Math.max(n,r)/2)-1,s=Math.min(n,r);let c=0;const l=r-1;for(var u=0;u<n;u++){const n=u+i<=l?u+i:l;for(var p=u>=i?u-i:0;p<=n;p++)if(1!==a[p]&&e[p]===t[u]){o[p]=1,a[u]=1,c++;break}}if(0===c)return 0;let d=0,m=0;for(u=0;u<n;u++)if(1===o[u]){for(p=d;p<r;p++)if(1===a[p]){d=p+1;break}e[u]!==t[p]&&m++}m=Math.floor(m/2);let g=0;const f={A:"E",A:"I",A:"O",A:"U",B:"V",E:"I",E:"O",E:"U",I:"O",I:"U",O:"U",I:"Y",E:"Y",C:"G",E:"F",W:"U",W:"V",X:"K",S:"Z",X:"S",Q:"C",U:"V",M:"N",L:"I",Q:"O",P:"R",I:"J",2:"Z",5:"S",8:"B",1:"I",1:"L",0:"O",0:"Q",C:"K",G:"J",E:" ",Y:" ",S:" "};if(s>c)for(u=0;u<n;u++)if(!o[u])for(p=0;p<r;p++)if(!a[p]&&f[e[u]]===t[p]){g+=3,a[p]=2;break}const h=g/10+c;let y=h/n+h/r+(c-m)/c;if(y/=3,y>.7){p=s>=4?4:s;for(u=0;u<p&&e[u]===t[u];u++);u&&(y+=.1*u*(1-y)),s>4&&c>u+1&&2*c>=s+u&&(y+=(c-u-1)/(n*r-2*u+2)*(1-y))}return y};export const prefixCSS=(e=n("string","property"))=>{t();const r=e.charAt(0).toUpperCase()+e.slice(1),o=["","webkit","moz","ms","o"],a=o.findIndex((t=>"undefined"!=typeof document.body.style[t?t+r:e]));return-1!==a?0===a?e:o[a]+r:null};export const parseCookie=(e=n("string","cookie string"))=>e.split(";").map((e=>e.split("="))).reduce(((e,t)=>(e[decodeURIComponent(t[0].trim())]=decodeURIComponent(t[1].trim()),e)),{});export const hash=(e=n("string","input string"))=>(t(),crypto.subtle.digest("SHA-256",new TextEncoder("utf-8").encode(e)).then((e=>{const t=[],n=new DataView(e);for(let e=0;e<n.byteLength;e+=4)t.push(("00000000"+n.getUint32(e).toString(16)).slice(-8));return t.join("")})));export const forTemplateLiteral=(e=n("array","array"),t=n("function","callback"))=>e.map(((e,n)=>t(e,n))).join``;export const mapString=(e=n("string","string"),t=n("function","callback"))=>Array.prototype.map.call(e,t).join("");export const deburr=(e=n("string","string"))=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"");export const removeTags=(e=n("string","html string"))=>e.replace(/<[^>]*>/g,"");export const speak=(e=n("string","text"),t="en",r=1,o=1,a=1,i=1)=>{const s=new SpeechSynthesisUtterance,c=window.speechSynthesis.getVoices(),l=c.filter((e=>e["default"]));s.voice=o?"number"==typeof o?c[o]:o:l,s.volume=r,s.rate=i,s.pitch=a,s.text=e,s.lang=t,speechSynthesis.speak(s)};export const widows=(e=n("string","text"))=>{const t=e.split(" ");let r="";for(let e=0;e<=t.length-1;e++)r+=t[e],e==t.length-2?r+="&nbsp;":r+=" ";return r};export const unCamelCase=function(e=n("string","string")){return e.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/\b([A-Z]+)([A-Z])([a-z])/,"$1 $2$3").replace(/^./,(function(e){return e.toUpperCase()}))};export const camelCase=(e=n("string","string"))=>e.replace(/(?:^\w|[A-Z]|\b\w)/g,(function(e,t){return 0===t?e.toLowerCase():e.toUpperCase()})).replace(/\s+/g,"");export const scrambleString=(e=n("string"))=>{const t=e.split("");for(let e=t.length-1;e>0;e--){const n=Math.floor(Math.random()*(e+1)),r=t[e];t[e]=t[n],t[n]=r}return t.join("")};export const hashString=(e=n("string"),t=0)=>{let r=3735928559^t,o=1103547991^t;for(let t,n=0;n<e.length;n++)t=e.charCodeAt(n),r=Math.imul(r^t,2654435761),o=Math.imul(o^t,1597334677);return r=Math.imul(r^r>>>16,2246822507)^Math.imul(o^o>>>13,3266489909),o=Math.imul(o^o>>>16,2246822507)^Math.imul(r^r>>>13,3266489909),4294967296*(2097151&o)+(r>>>0)};export const editDistance=(e=n("string","string 1"),t=n("string","string 2"))=>{if(0==e.length)return t.length;if(0==t.length)return e.length;const r=[];let o,a;for(o=0;o<=t.length;o++)r[o]=[o];for(a=0;a<=e.length;a++)r[0][a]=a;for(o=1;o<=t.length;o++)for(a=1;a<=e.length;a++)t.charAt(o-1)==e.charAt(a-1)?r[o][a]=r[o-1][a-1]:r[o][a]=Math.min(r[o-1][a-1]+1,Math.min(r[o][a-1]+1,r[o-1][a]+1));return r[t.length][e.length]};export const byteSize=(e=n("string","string"))=>new Blob([e]).size;export const replaceMultiple=(e=n("string","text"),t=n("object","replace key pairs"))=>{const r=new RegExp(Object.keys(t).join("|"),"gi");return e=e.replace(r,(function(e){return mapObj[e]}))};export const urlQuery=(e=n("string","query"),t=window.location.href)=>{e=e.replace(/[\[\]]/g,"\\$&");const r=new RegExp(`[?&]${e}(=([^&#]*)|&|#|$)`).exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null};export const sanitize=(e=n("string","input html"),r=undefined,o=undefined)=>{t();r=r||["I","P","B","BODY","HTML","DEL","INS","STRONG","SMALL","A","IMG","CITE","FIGCAPTION","ASIDE","ARTICLE","SUMMARY","DETAILS","NAV","TD","TH","TABLE","THEAD","TBODY","NAV","SPAN","BR","CODE","PRE","BLOCKQUOTE","EM","HR","H1","H2","H3","H4","H5","H6","DIV","MAIN","HEADER","FOOTER","SELECT","COL","AREA","ADDRESS","ABBR","BDI","BDO"];o=(o=o||[{attribute:"src",tags:"*",regex:/^(?:https|http|\/\/):/},{attribute:"href",tags:"*",regex:/^(?:https|http|\/\/):/},{attribute:"width",tags:"*",regex:/^[0-9]+$/},{attribute:"height",tags:"*",regex:/^[0-9]+$/},{attribute:"id",tags:"*",regex:/^[a-zA-Z]+$/},{attribute:"class",tags:"*",regex:/^[a-zA-Z ]+$/},{attribute:"value",tags:["INPUT","TEXTAREA"],regex:/^.+$/},{attribute:"checked",tags:["INPUT"],regex:/^(?:true|false)+$/},{attribute:"placeholder",tags:["INPUT","TEXTAREA"],regex:/^.+$/},{attribute:"alt",tags:["IMG","AREA","INPUT"],regex:/^[0-9a-zA-Z]+$/},{attribute:"autofocus",tags:["INPUT"],regex:/^(?:true|false)+$/},{attribute:"for",tags:["LABEL","OUTPUT"],regex:/^[a-zA-Z0-9]+$/}]).map((e=>{if("string"==typeof e)return{attribute:e,tags:"*",regex:/^.+$/};const t=e;return e.hasOwnProperty("tags")||(t.tags="*"),e.hasOwnProperty("regex")||(t.regex=/^.+$/),t}));const a=(new DOMParser).parseFromString(e,"text/html"),i=a.querySelectorAll("*");for(let e=0;e<i.length;e++){const t=i[e],n=c(t);for(let e=0;e<n.length;e++){s(t,n[e])||t.removeAttribute(n[e])}r.includes(t.tagName)||t.remove()}return a.documentElement.innerHTML;function s(e,t){return o.filter((n=>n.attribute===t&&("*"===n.tags||n.tags.includes(e.tagName))&&n.regex.test(e.getAttribute(t)))).length>0}function c(e){for(var t=0,n=e.attributes,r=n.length,o=[];t<r;t++)o.push(n[t].nodeName);return o}};export const markdownToHTML=(e=n("string","input"))=>{const t=/\\([\\\|`*_{}\[\]()#+\-~])/g,r=/\n *&gt; *([^]*?)(?=(\n|$){2})/g,o=/\n( *)(?:[*\-+]|((\d+)|([a-z])|[A-Z])[.)]) +([^]*?)(?=(\n|$){2})/g,a=/(^|[^A-Za-z\d\\])(([*_])|(~)|(\^)|(--)|(\+\+)|`)(\2?)([^<]*?)\2\8(?!\2)(?=\W|_|$)/g,i=/^.*\n( *\|( *\:?-+\:?-+\:? *\|)* *\n|)/,s=/.*\n/g,c=/\||(.*?[^\\])\|/g;function l(t,n){e=e.replace(t,n)}function u(e,t){return"<"+e+">"+t+"</"+e+">"}function p(e){return e.replace(a,(function(e,t,n,r,o,a,i,s,c,l){return t+u(r?c?"strong":"em":o?c?"s":"sub":a?"sup":i?"small":s?"big":"code",p(l))}))}function d(e){return e.replace(t,"$1")}const m=[];let g=0;return e="\n"+e+"\n",l(/</g,"&lt;"),l(/>/g,"&gt;"),l(/\t|\r|\uf8ff/g,"  "),e=function f(e){return e.replace(r,(function(e,t){return u("blockquote",f(p(t.replace(/^ *&gt; */gm,""))))}))}(e),l(/^([*\-=_] *){3,}$/gm,"<hr/>"),e=function h(e){return e.replace(o,(function(e,t,n,r,o,a){const i=u("li",p(a.split(RegExp("\n ?"+t+"(?:(?:\\d+|[a-zA-Z])[.)]|[*\\-+]) +","g")).map(h).join("</li><li>")));return"\n"+(n?'<ol start="'+(r?n+'">':parseInt(n,36)-9+'" style="list-style-type:'+(o?"low":"upp")+'er-alpha">')+i+"</ol>":u("ul",i))}))}(e),l(/<\/(ol|ul)>\n\n<\1>/g,""),l(/\n((```|~~~).*\n?([^]*?)\n?\2|(( {4}.*?\n)+))/g,(function(e,t,n,r,o){return m[--g]=u("pre",u("code",r||o.replace(/^ {4}/gm,""))),g+""})),l(/((!?)\[(.*?)\]\((.*?)( ".*")?\)|\\([\\`*_{}\[\]()#+\-.!~]))/g,(function(e,t,n,r,o,a,i){return m[--g]=i||(n?o?'<img src="'+_$.escapeHTML(o)+'" alt="'+_$.escapeHTML(r)+'"/>':t:/^https?:\/\//g.test(o)?'<a href="'+_$.escapeHTML(o)+'">'+d(p(r))+"</a>":t),g+""})),l(/\n(( *\|.*?\| *\n)+)/g,(function(e,t){const n=t.match(i)[1];return"\n"+u("table",t.replace(s,(function(e,t){return e==n?"":u("tr",e.replace(c,(function(e,r,o){return o?u(n&&!t?"th":"td",d(p(r||""))):""})))})))})),l(/(?=^|>|\n)([>\s]*?)(#{1,6}) (.*?)( #*)? *(?=\n|$)/g,(function(e,t,n,r){return t+u("h"+n.length,d(p(r)))})),l(/(?=^|>|\n)\s*\n+([^<]+?)\n+\s*(?=\n|<|$)/g,(function(e,t){return u("p",d(p(t)))})),l(/-\d+\uf8ff/g,(function(e){return m[parseInt(e)]})),e.trim()};export const syllables=(e=n("string","word"))=>{let t=0;(e=e.toLowerCase()).length>3&&"some"==e.substring(0,4)&&(e=e.replace("some",""),t++);const r=(e=(e=e.replace(/(?:[^laeiouy]|ed|[^laeiouy]e)$/,"")).replace(/^y/,"")).match(/[aeiouy]{1,2}/g);if(console.log(r),r)return r.length+t};export const titleCase=(e=n("string","string"))=>e.toLowerCase().split(" ").map(((e,t)=>["at","by","for","in","of","off","on","out","to","up","as","if","but","per","via","for","and","nor","but","or","yet","so","the","a","an"].includes(e)&&0!=t?e:String.fromCodePoint(e.codePointAt(0)).toUpperCase()+e.slice(e.codePointAt(0)>65535?2:1))).join(" ");export const capitalize=(e=n("string","string"))=>String.fromCodePoint(e.codePointAt(0)).toUpperCase()+e.slice(e.codePointAt(0)>65535?2:1);export const replaceBetween=(e=n("string","string"),t=n("number","start"),r=n("number","end"),o=n("string","replace with"))=>e.substring(0,t)+o+e.substring(r);export const escapeHTML=(e=n("string"))=>e.replace(/[&<>'"]/g,(e=>({"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"}[e]||e)));export const unescapeHTML=(e=n("string"))=>e.replace(/&amp;|&lt;|&gt;|&#39;|&quot;/g,(e=>({"&amp;":"&","&lt;":"<","&gt;":">","&#39;":"'","&quot;":'"'}[e]||e)));export const previousPage=()=>(t(),document.referrer||window.location.href);export const resize=async(e=n("string","html"),r,o)=>{t(),e=e.replace(/^(?:http|https)\:\/\//,"");const a=new Image;a.src=await _$.imageToData("https://cors.explosionscratc.repl.co/"+e),await new Promise((e=>a.onload=e));const i=document.createElement("canvas"),s=i.getContext("2d");i.width=r<1||!r?a.width:r,i.height=o<1||!r?a.height:o,s.drawImage(a,0,0,i.width,i.height);return i.toDataURL(0,0,i.width,i.height)};export const htmlToImage=(e=n("string","html string"),{x:r=0,y:o=0,width:a=300,height:i=400})=>{t();const s=document.createElement("canvas");s.width=a,s.height=i;const c=s.getContext("2d");return new Promise((t=>{let n=function(e){const t=document.implementation.createHTMLDocument("");return t.write(e),t.documentElement.setAttribute("xmlns",t.documentElement.namespaceURI),e=(new XMLSerializer).serializeToString(t.body)}(e);n=n.replace(/\#/g,"%23");const l=`data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="${a}" height="${i}"><foreignObject width="100%" height="100%">${n}</foreignObject></svg>`,u=new Image;u.onload=function(){c.drawImage(u,r,o,a,i),t(s.toDataURL())},u.src=l}))};export const race=(e=n("function"),t=n("number","timeout"),r=undefined)=>Promise.race(["function"==typeof e?e():e,new Promise(((e,n)=>setTimeout((()=>r||n(new Error("Promise timed out (Bijou.js _$.race function)"))),t)))]);export const typeOf=(e=n("any","any"),t=!0)=>Object.prototype.toString.call(e).split(" ")[1].replace(/]$/,"");export const injectCSS=(e=n("string","css"))=>{t();const r=document.createElement("style");return r.setAttribute("type","text/css"),r.innerText=e,document.head.appendChild(r),r};export const mobileOrDesktop=()=>(t(),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?"mobile":"desktop");export const playSection=(e=n("HTMLMediaElement","audio"),t=n("number","start"),r=n("number","stop"))=>{const o=e.cloneNode(!0);o.currentTime=t,o.play(),o.int=setInterval((function(){o.currentTime>r&&(o.pause(),clearInterval(o.int))}),10)};export const formatHTML=(e=n("string","html"))=>{let t="",r="";return e.split(/>\s*</).forEach((function(e){e.match(/^\/\w/)&&(r=r.substring("\t".length)),t+=r+"<"+e+">\r\n",e.match(/^<?\w[^>]*[^\/]$/)&&!e.startsWith("input")&&(r+="\t")})),t.substring(1,t.length-3)};export const getJSON=(e=n("string","url"),r=(()=>{}))=>(t(),new Promise(((t,n)=>{fetch(e).then((e=>e.json())).then((e=>{r(e),t(e)}))["catch"]((e=>{throw n(e),new Error(e.stack)}))})));export const getHTML=(e=n("string","url"),r=(()=>{}))=>(t(),new Promise(((t,n)=>{fetch(e).then((e=>e.text())).then((e=>{r(_$.parseHTML(e)),t(_$.parseHTML(e))}))["catch"]((e=>{throw n(e.stack),new Error(e.stack)}))})));export const preloadImage=(...e)=>{n("string","url arguments",![...e].length);const t=[];for(let n=0;n<e.length;n++)t[n]=new Image,t[n].src=e[n]};export const saveBlob=(e=n("blob","blob"),r="output.txt")=>{t();const o=document.createElement("a");document.body.appendChild(o),o.style="display: none";const a=window.URL.createObjectURL(e);o.href=a,o.download=r,o.click(),window.URL.revokeObjectURL(a)};export const requestInterval=function(e=n("function","function"),r=n("number","delay")){t();const o=window.requestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};let a=(new Date).getTime();const i={};return i.value=o((function s(){i.value=o(s),(new Date).getTime()-a>=r&&(e.call(),a=(new Date).getTime())})),i};export const loadScript=(e=n("string","url"),r=(()=>{}),o={},a=!1)=>{if(t(),!a||!document.querySelector(`script[src="${e}"]`))return new Promise(((t,n)=>{const a=document.createElement("script");a.type="text/javascript";const i=Object.keys(o);_$.each(i,(e=>{a.setAttribute(e,o[e])})),a.readyState?a.onreadystatechange=function(){"loaded"!==a.readyState&&"complete"!==a.readyState||(a.onreadystatechange=null,r(),t())}:a.onload=function(){r(),t()},a.src=e,document.getElementsByTagName("head")[0].appendChild(a)}))};export const imageToData=async(e=n("string","url"),r=(()=>{}))=>(t(),new Promise((async(t,n)=>{const o=await fetch(e).then((e=>e.blob())),a=await new Promise((e=>{const t=new FileReader;t.onload=()=>e(t.result),t.readAsDataURL(o)}));r(a),t(a)})));export const cookies={setItem:(e=n("string","name"),r=n("string","value"),o=1e3)=>{t();let a="";if(o){const e=new Date;e.setTime(e.getTime()+24*o*60*60*1e3),a="; expires="+e.toUTCString()}document.cookie=e+"="+(r||"")+a+"; path=/"},getItem:(e=n("string","name"))=>{t();const r=e+"=",o=document.cookie.split(";");for(let e=0;e<o.length;e++){let t=o[e];for(;" "==t.charAt(0);)t=t.substring(1,t.length);if(0===t.indexOf(r))return t.substring(r.length,t.length)}return null},removeItem:(e=n("string","name"))=>{t(),document.cookie=e+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"}};export const regex={phone:/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/,name:/^(?:[a-zA-Z]{2,}\s[a-zA-Z]{1,}'?-?[a-zA-Z]{2,}\s?(?:[a-zA-Z]{1,})?)/,email:/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/,link:/(([\w]+:)?\/\/)?(([\d\w]|%[a-fA-f\d]{2,2})+(:([\d\w]|%[a-fA-f\d]{2,2})+)?@)?([\d\w][-\d\w]{0,253}[\d\w]\.)+[\w]{2,63}(:[\d]+)?(\/([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)*(\?(&?([-+_~.\d\w]|%[a-fA-f\d]{2,2})=?)*)?(#([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)?/,strongPassword:/(?=(.*[0-9]))(?=.*[\!@#$%^&*()\\[\]{}\-_+=~`|:;"'<>,./?])(?=.*[a-z])(?=(.*[A-Z]))(?=(.*)).{8,}/,moderatePassword:/(?=(.*[0-9]))((?=.*[A-Za-z0-9])(?=.*[A-Z])(?=.*[a-z]))^.{8,}$/,ipv4:/^ (([0 - 9] | [1 - 9][0 - 9] | 1[0 - 9]{ 2}| 2[0 - 4][0 - 9] | 25[0 - 5]) \.) { 3 } ([0 - 9] | [1 - 9][0 - 9] | 1[0 - 9]{ 2 }| 2[0 - 4][0 - 9] | 25[0 - 5]) $ /,ipv6:/(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))/,ip:/ ((^\s*((([0 - 9] | [1 - 9][0 - 9] | 1[0 - 9]{ 2} | 2[0 - 4][0 - 9] | 25[0 - 5]) \.) { 3}([0 - 9] | [1 - 9][0 - 9] | 1[0 - 9]{ 2 }| 2[0 - 4][0 - 9] | 25[0 - 5])) \s * $)| (^\s * ((([0 - 9A - Fa - f]{ 1, 4 }:) { 7 } ([0 - 9A - Fa - f]{ 1, 4 }|:))| (([0 - 9A - Fa - f]{ 1, 4 }:) { 6 } (: [0 - 9A - Fa - f]{ 1, 4 }| ((25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d) (\.(25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d)) { 3 })|:))| (([0 - 9A - Fa - f]{ 1, 4 }:) { 5 } (((: [0 - 9A - Fa - f]{ 1, 4 }) { 1, 2 })|: ((25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d) (\.(25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d)) { 3 })|:))| (([0 - 9A - Fa - f]{ 1, 4 }:) { 4 } (((: [0 - 9A - Fa - f]{ 1, 4 }) { 1, 3 })| ((: [0 - 9A - Fa - f]{ 1, 4 })?: ((25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d) (\.(25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d)) { 3 }))|:))| (([0 - 9A - Fa - f]{ 1, 4 }:) { 3 } (((: [0 - 9A - Fa - f]{ 1, 4 }) { 1, 4 })| ((: [0 - 9A - Fa - f]{ 1, 4 }) { 0, 2 }: ((25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d) (\.(25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d)) { 3 }))|:))| (([0 - 9A - Fa - f]{ 1, 4 }:) { 2 } (((: [0 - 9A - Fa - f]{ 1, 4 }) { 1, 5 })| ((: [0 - 9A - Fa - f]{ 1, 4 }) { 0, 3 }: ((25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d) (\.(25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d)) { 3 }))|:))| (([0 - 9A - Fa - f]{ 1, 4 }:) { 1 } (((: [0 - 9A - Fa - f]{ 1, 4 }) { 1, 6 })| ((: [0 - 9A - Fa - f]{ 1, 4 }) { 0, 4 }: ((25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d) (\.(25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d)) { 3 }))|:))| (: (((: [0 - 9A - Fa - f]{ 1, 4 }) { 1, 7 })| ((: [0 - 9A - Fa - f]{ 1, 4 }) { 0, 5 }: ((25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d) (\.(25[0 - 5] | 2[0 - 4]\d | 1\d\d | [1 - 9] ?\d)) { 3 }))|:))) (%.+) ?\s * $)) /,socialSecurity:/^((?!219-09-9999|078-05-1120)(?!666|000|9\d{2})\d{3}-(?!00)\d{2}-(?!0{4})\d{4})|((?!219 09 9999|078 05 1120)(?!666|000|9\d{2})\d{3} (?!00)\d{2} (?!0{4})\d{4})|((?!219099999|078051120)(?!666|000|9\d{2})\d{3}(?!00)\d{2}(?!0{4})\d{4})$/,hex:/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/,zipCode:/(^\d{5}(-\d{4})?$)|(^[ABCEGHJKLMNPRSTVXY]{1}\d{1}[A-Z]{1} *\d{1}[A-Z]{1}\d{1}$)/,simplePhone:/^\+?[\d\s]{3,}$/,visaCredit:/^4[0–9]{12}(?:[0–9]{3})?$/,expressCredit:/^3[47][0–9]{13}$/,mastercardCredit:/^(?:5[1–5][0–9]{2}|222[1–9]|22[3–9][0–9]|2[3–6][0–9]{2}|27[01][0–9]|2720)[0–9]{12}$/,discoverCredit:/^6(?:011|5[0–9]{2})[0–9]{12}$/};export const jsonToCsv=(e=n("array","array"),t=n("number","columns"),r=",")=>[t.join(r),...e.map((e=>t.reduce(((t,n)=>`${t}${t.length?r:""}"${e[n]?e[n]:""}"`),"")))].join("\n");export const arrayToCSV=(e=n("array","array"),t=",")=>e.map((e=>e.map((e=>isNaN(e)?`"${e.replace(/"/g,'""')}"`:e)).join(t))).join("\n");export const notify=async(e=n("string","text"),r=n("string","body"),o=undefined)=>{if(t(),!window.Notification)throw new Error("browser does not support notifications.");if("granted"===Notification.permission){new Notification(e,{body:r,icon:o})}else Notification.requestPermission().then((function(t){if("granted"!==t)throw new Error("User blocked notifications");new Notification(e,{body:r,icon:o})}))["catch"]((function(e){throw e}))};export const copy=(e=n("string","string"))=>{t();const r=document.createElement("textarea");r.value=e,r.setAttribute("readonly",""),r.style.position="absolute",r.style.left="-9999px",document.body.appendChild(r);const o=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);return r.select(),document.execCommand("copy"),document.body.removeChild(r),o&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(o)),e};export const browser=()=>{t();const e=!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0,n="undefined"!=typeof InstallTrigger,r=/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||"undefined"!=typeof safari&&window.safari.pushNotification).toString(),o=!!document.documentMode,a=!o&&!!window.StyleMedia,i=!(!window.chrome||!window.chrome.webstore&&!window.chrome.runtime),s=i&&-1!=navigator.userAgent.indexOf("Edg"),c=(i||e)&&!!window.CSS;return e?"Opera":n?"Firefox":r?"Safari":a?"Edge":o?"Internet Explorer":i?"Chrome":s?"Edge Chromium":c?"Blink":void 0};export const serializeForm=(e=n("HTMLFormElement","form"))=>(t(),Array.from(new FormData(e),(e=>e.map(encodeURIComponent).join("="))).join("&"));export const soundex=(e=n("string","word"))=>{const t=e.toLowerCase().split(""),r=t.shift();let o="";const a={a:"",e:"",i:"",o:"",u:"",b:1,f:1,p:1,v:1,c:2,g:2,j:2,k:2,q:2,s:2,x:2,z:2,d:3,t:3,l:4,m:5,n:5,r:6};return o=r+t.map((function(e,t,n){return a[e]})).filter((function(e,t,n){return 0===t?e!==a[r]:e!==n[t-1]})).join(""),(o+"000").slice(0,4).toUpperCase()};export const prototype=(e={overwrite:!0,tryCatch:!1})=>{function t(t,n,r){const o=r||t?t.name:"noNameHehe124672463467432376453",a=!(e.overwrite===undefined||!1===e.overwrite);n.prototype.hasOwnProperty(o)&&!a||Object.defineProperty(n.prototype,o,{value:function(...n){if(!0!==(e["try"]||e.tryCatch||e["catch"]||e.catchErrors)){return t(this,...n)}try{return t(this,...n)}catch(r){return r}}})}t(_$.addDaysToDate,Date,"addDays"),t(_$.addEventListeners,Element),t(_$.addMinutesToDate,Date,"addMinutes"),t(_$.addStyles,Element),t(_$.animate,Number),t(_$.arrayDiff,Array,"diff"),t(_$.arrayToCSV,Array,"toCSV"),t(_$.attributes,Element),t(_$.averageBy,Array),t(_$.blendColors,String),t(_$.byteSize,String),t(_$.camelCase,String),t(_$.capitalize,String),t(_$.clone,Object),t(_$.compStyle,Element),t(_$.composeFunction,Function,"compose"),t(_$.contains,Array),t(_$.copy,String),t(_$.count,Array),t(_$.create,String),t(_$.createElement,String),t(_$.curryFunction,Function,"curry"),t(_$.dayName,Date),t(_$.debounce,Function),t(_$.deburr,String),t(_$.disableRightClick,Element),t(_$.dispatch,Object),t(_$.drag,Element),t(_$.each,Array),t(_$.editDistance,String),t(_$.elementContains,Element,"contains"),t(_$.equals,Date),t(_$.equals,Object),t(_$.escapeHTML,String),t(_$.factorial,Number),t(_$.fastestFunction,Array),t(_$.flatten,Array),t(_$.flattenObj,Object,"flatten"),t(_$.forTemplateLiteral,Array),t(_$.formToObject,Element,"toObject"),t(_$.formatHTML,String),t(_$.formatNumber,Number),t(_$.fullScreen,Element),t(_$.gcd,Array),t(_$.hash,String),t(_$.hashString,String),t(_$.imageToData,String),t(_$.inPartialView,Element),t(_$.inView,Element),t(_$.inlineCSS,Element),t(_$.isAsync,Function),t(_$.isDateValid,Date,"valid"),t(_$.isPrime,Number),t(_$.jaroDistance,String),t(_$.juxt,Function),t(_$.lightOrDark,String),t(_$.lightenColor,String),t(_$.limitArgs,Function),t(_$.listen,Object),t(_$.luhnCheck,Number),t(_$.mapObjectKeys,Object,"mapKeys"),t(_$.mapObjectValues,Object,"map"),t(_$.mapString,String,"map"),t(_$.markDownToHTML,String),t(_$.memoize,Function),t(_$.merge,Object),t(_$.nFlatten,Array),t(_$.observeMutations,Element,"observe"),t(_$.onOutsideClick,Element),t(_$.onScrollStop,Element),t(_$.parents,Element),t(_$.parseHTML,String),t(_$.playSection,Element),t(_$.prefixCSS,String),t(_$.preloadImage,String),t(_$.primesTo,Number),t(_$.querySelector,Element,"genQuerySelector"),t(_$.random,Number),t(_$.range,Number),t(_$.remove,Array),t(_$.removeComments,String),t(_$.removeTags,String),t(_$.renderElement,Object),t(_$.replaceBetween,String),t(_$.replaceMultiple,Object),t(_$.replaceText,Element),t(_$.rgbToHex,String),t(_$.runAsync,Function),t(_$.sanitize,String),t(_$.saveBlob,Blob),t(_$.scrambleString,String,"scramble"),t(_$.seedRandom,String),t(_$.serializeForm,Element,"serialize"),t(_$.shuffleArray,Array,"shuffle"),t(_$.sortObj,Object,"sort"),t(_$.sortTable,Element,"sort"),t(_$.sortTableBy,Element),t(_$.speak,String),t(_$.splice,String),t(_$.spread,Function),t(_$.syllables,String),t(_$.textNodes,Element),t(_$.throttle,Function),t(_$.tilt,Element),t(_$.timeFunction,Function),t(_$.titleCase,String),t(_$.unCamelCase,String),t(_$.unescapeHTML,String),t(_$.unionArrays,Array,"union"),t(_$.uniqueArray,Array,"unique"),t(_$.urlQuery,String),t(_$.widows,String)};let r={addDaysToDate,addEventListeners,addMinutesToDate,addStyles,animate,arrayDiff,arrayToCSV,attributes,averageBy,blendColors,browser,byteSize,camelCase,capitalize,clone,compStyle,composeFunction,contains,context,cookies,copy,count,create,createElement,curryFunction,dayName,debounce,deburr,diff,disableRightClick,dispatch,drag,each,ease,editDistance,elementContains,elementReady,elementSiblings,equals,escapeHTML,factorial,fastestFunction,flatten,flattenObj,forTemplateLiteral,formToObject,formatHTML,formatMilliseconds,formatNumber,fullScreen,gcd,getHTML,getImages,getJSON,hash,hashString,hexToRGB,htmlToImage,hub,imageToData,inPartialView,inView,injectCSS,inlineCSS,isAsync,isDateValid,isPrime,jaroDistance,jsonToCsv,juxt,lightOrDark,lightenColor,limitArgs,listen,loadScript,luhnCheck,mapObjectKeys,mapObjectValues,mapString,markdownToHTML,memoize,merge,mobileOrDesktop,nFlatten,notify,observeMutations,onOutsideClick,onScrollStop,parents,parseCookie,parseHTML,playSection,prefixCSS,preloadImage,previousPage,primesTo,prototype,querySelector,race,random,randomColor,range,regex,remove,removeComments,removeTags,renderElement,replaceBetween,replaceMultiple,replaceSelection,replaceText,requestInterval,resize,rgbToHex,ripple,runAsync,sanitize,saveBlob,scrambleString,seedRandom,serializeForm,shuffleArray,sleep,sortObj,sortTable,sortTableBy,soundex,speak,splice,spliceArrayBuffer,spread,syllables,textNodes,throttle,tilt,timeFunction,titleCase,typeOf,unCamelCase,unescapeHTML,unionArrays,uniqueArray,urlQuery,uuid,waitUntil,widows};r=sortObj(r);export default r;e||(window._$=r);export const _$=r;if(e)try{module.exports=r}catch(o){console.error(o)}